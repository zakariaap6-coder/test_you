<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Deutsch B2 PrÃ¼fung - Komplett</title>
  <style>
    /* ===== GLOBAL STYLES ===== */
    :root {
      --primary-color: #1e3a5f;
      --secondary-color: #2c5282;
      --accent-color: #4da6ff;
      --light-color: #ebf8ff;
      --text-color: #2d3748;
      --white: #ffffff;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: var(--white);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    button {
      cursor: pointer;
    }
    
    /* ===== START PAGE STYLES ===== */
    .start-container {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 20px;
      min-height: 100vh;
    }
    
    .start-content {
      max-width: 600px;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 40px;
      box-shadow: var(--shadow);
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .logo {
      margin-bottom: 20px;
    }
    
    .logo-icon {
      font-size: 48px;
      margin-bottom: 10px;
    }
    
    h1 {
      font-size: 32px;
      margin-bottom: 10px;
      font-weight: 700;
    }
    
    .subtitle {
      font-size: 18px;
      margin-bottom: 30px;
      opacity: 0.9;
    }
    
    .card {
      background-color: var(--white);
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: var(--shadow);
      color: var(--text-color);
    }
    
    .card h2 {
      font-size: 20px;
      margin-bottom: 15px;
      color: var(--primary-color);
    }
    
    .card p {
      margin-bottom: 20px;
      line-height: 1.5;
    }
    
    select {
      width: 100%;
      padding: 12px 16px;
      font-size: 16px;
      border-radius: 8px;
      border: 2px solid var(--accent-color);
      outline: none;
      background-color: var(--white);
      color: var(--text-color);
      cursor: pointer;
      transition: var(--transition);
    }
    
    select:focus {
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.3);
    }
    
    .timer-container {
      margin: 25px 0;
    }
    
    .timer-label {
      font-size: 16px;
      margin-bottom: 10px;
    }
    
    .timer {
      font-size: 48px;
      font-weight: 700;
      color: var(--accent-color);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    .progress-bar {
      height: 8px;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 4px;
      overflow: hidden;
      margin-top: 10px;
    }
    
    .progress {
      height: 100%;
      width: 100%;
      background-color: var(--accent-color);
      border-radius: 4px;
      transform: scaleX(1);
      transform-origin: left;
      transition: transform 1s linear;
    }
    
    .info-text {
      font-size: 14px;
      margin-top: 20px;
      opacity: 0.8;
    }
    
    .button-container {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    
    .btn {
      flex: 1;
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      background-color: var(--accent-color);
      color: white;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }
    
    .btn:hover {
      background-color: #3399ff;
    }
    
    /* ===== EXAM PAGE STYLES ===== */
    .exam-body {
      background: #f5f5f5;
      color: #333;
      line-height: 1.45;
      -webkit-font-smoothing: antialiased;
    }
    
    /* Header Styles */
    header.topbar {
      background: #1e3a5f;
      color: #fff;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      min-height: 80px;
    }

    .brand {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .brand .logo {
      width: 80px;
      height: 40px;
      background: #e74c3c;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: white;
      font-size: 18px;
    }

    .meta .main-title {
      font-weight: 800;
      font-size: 18px;
    }

    .meta .sub-title {
      font-size: 13px;
      opacity: 0.9;
    }

    .timer {
      font-weight: 700;
      font-size: 18px;
      color: #fff;
      margin: 0 20px;
    }

    .buttons-grid {
      display: grid;
      grid-template-columns: repeat(2, auto);
      gap: 10px 20px;
    }

    .exam-btn {
      padding: 12px 20px;
      border-radius: 6px;
      border: none;
      background: #4da6ff;
      color: white;
      font-weight: 700;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.2s ease-in-out;
      min-width: 150px;
      text-align: center;
    }

    .exam-btn:hover {
      background: #336fbf;
    }
    
    .exam-btn.save {
      background: #4da6ff;
      color: #000;
    }
    
    .exam-btn.save:hover {
      background: #3399ff;
    }
    
    .exam-btn.submit {
      background: #4da6ff;
    }
    
    .exam-btn.submit:hover {
      background: #3399ff;
    }
    
    .exam-btn.result {
      background: #4da6ff;
    }
    
    .exam-btn.result:hover {
      background: #3399ff;
    }
    
    .exam-btn.next {
      background: #4da6ff;
      color: #fff;
    }
    
    .exam-btn.next:hover {
      background: #3399ff;
    }
    
    .exam-btn.reset {
      background: #4da6ff;
    }
    
    .exam-btn.reset:hover {
      background: #3399ff;
    }
    
    .exam-btn.reset-section {
      background: #d35400;
      font-size: 12px;
      padding: 6px 10px;
      min-width: auto;
    }
    
    .exam-btn.reset-section:hover {
      background: #e67e22;
    }
    
    .exam-btn.no-match {
      background: #95a5a6;
      font-size: 12px;
      padding: 6px 10px;
      min-width: auto;
      margin-top: 5px;
    }
    
    .exam-btn.no-match:hover {
      background: #7f8c8d;
    }
    
    .exam-btn.no-match.selected {
      background: #e74c3c;
    }
    
    /* Top Tiles */
    .top-tiles {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 8px 12px;
      background: #1e3a5f;
      border-bottom: 1px solid #0f223a;
    }
    
    .tile {
      flex: 1;
      max-width: 180px;
      text-align: center;
      padding: 12px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background: #3b4a63;
      color: #fff;
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 60px;
    }
    
    .tile:hover {
      background: #4a5b78;
    }
    
    .tile.active {
      background: #ffffff;
      color: #000;
      border-color: #bbb;
    }
    
    .tile.done {
      background: #2ecc71;
      color: #fff;
      border-color: #27ae60;
    }
    
    .tile.done::after {
      content: " âœ…";
      margin-left: 5px;
    }
    
    .tile .points {
      background: rgba(255,255,255,0.2);
      padding: 4px 8px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 11px;
      margin-top: 4px;
    }
    
    .tile.active .points {
      background: #e9eefc;
      color: #2c3e50;
    }
    
    /* Container Styles */
    .container {
      display: grid;
      grid-template-columns: 1fr 420px;
      gap: 16px;
      padding: 16px;
      max-width: 1200px;
      margin: 12px auto;
    }
    
    .container-full {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      padding: 16px;
      max-width: 1200px;
      margin: 12px auto;
    }
    
    .container-split {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      padding: 16px;
      max-width: 1200px;
      margin: 12px auto;
    }
    
    .left-panel {
      background: white;
      border-radius: 8px;
      padding: 18px;
      box-shadow: 0 1px 6px rgba(0,0,0,0.06);
      max-height: 76vh;
      overflow: auto;
    }
    
    .left-panel .passage {
      font-size: 14px;
      color: #2c3e50;
      line-height: 1.8;
    }
    
    .left-panel h2 {
      font-size: 16px;
      margin-bottom: 10px;
    }
    
    .right-panel {
      background: white;
      border-radius: 8px;
      padding: 12px;
      box-shadow: 0 1px 6px rgba(0,0,0,0.06);
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-height: 76vh;
      overflow: auto;
    }
    
    .main-panel {
      background: white;
      border-radius: 8px;
      padding: 25px;
      box-shadow: 0 1px 6px rgba(0,0,0,0.06);
      max-height: 76vh;
      overflow: auto;
    }
    
    .panel-title {
      font-size: 18px;
      margin-bottom: 15px;
      color: #1e3a5f;
      font-weight: 700;
    }
    
    /* Question Styles */
    .question-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }
    
    .question-body {
      margin-top: 8px;
    }
    
    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .option {
      background: #fbfdff;
      border: 1px solid #e1e8f6;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .option:hover {
      background: #f0f6ff;
    }
    
    .option.selected {
      background: #e8fbe9;
      border-color: #2ecc71;
    }
    
    .option .radio {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 2px solid #cfdff6;
      background: #fff;
      display: inline-block;
      flex-shrink: 0;
    }
    
    .option.selected .radio {
      background: #3498db;
      border-color: #3498db;
      box-shadow: inset 0 -3px 0 rgba(0,0,0,0.05);
    }
    
    .text-container {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #e1e8f6;
      border-radius: 8px;
      background: #fbfdff;
      position: relative;
      min-height: 120px;
    }
    
    .text-container:hover {
      background: #f0f6ff;
    }
    
    .text-title {
      font-weight: 700;
      margin-bottom: 8px;
      color: #2c3e50;
    }
    
    .text-content {
      font-size: 14px;
      color: #2c3e50;
      line-height: 1.6;
    }
    
    .title-slot {
      min-height: 40px;
      margin-top: 10px;
      padding: 8px;
      border: 2px dashed #c8d9f6;
      border-radius: 6px;
      background: #f8fbff;
    }
    
    .title-slot.has-title {
      background: #e8fbe9;
      border-color: #2ecc71;
    }
    
    .title-slot.has-x {
      background: #f8d7da;
      border-color: #e74c3c;
      color: #c0392b;
      font-weight: bold;
    }
    
    .headings-bank {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 0;
    }
    
    .heading-item {
      padding: 10px;
      border: 1px solid #dbe7fb;
      border-radius: 8px;
      background: #f8fbff;
      cursor: grab;
    }
    
    .heading-item:hover {
      background: #e9f0ff;
    }
    
    .heading-item.used {
      opacity: 0.5;
      cursor: not-allowed;
      background: #f8d7da;
      border-color: #f5c6cb;
    }
    
    .result-correct {
      color: #27ae60;
      font-weight: bold;
    }
    
    .result-incorrect {
      color: #c0392b;
      font-weight: bold;
    }
    
    .result-item {
      margin: 10px 0;
      padding: 10px;
      border-radius: 6px;
      background: #f8f9fa;
    }
    
    .instructions {
      color: #7f8c8d;
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 15px;
    }
    
    .question-text {
      font-weight: 600;
      margin-bottom: 15px;
      font-size: 15px;
      color: #2c3e50;
    }
    
    .all-questions {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    .question-block {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #e1e8f6;
      border-radius: 8px;
      background: #fbfdff;
    }
    
    .texts-list, .situations-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .text-item, .situation-item {
      padding: 15px;
      border: 1px solid #e1e8f6;
      border-radius: 8px;
      background: #fbfdff;
    }
    
    .text-letter {
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 8px;
    }
    
    .situation-number {
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 8px;
    }
    
    .fill-blank-container {
      margin: 20px 0;
    }
    
    .blank-word {
      display: inline-block;
      min-width: 120px;
      padding: 4px 8px;
      margin: 0 6px;
      background: #fff;
      cursor: pointer;
      position: relative;
      border: 1px solid #dbe7fb;
      border-radius: 4px;
    }
    
    .blank-word.has-answer {
      background: #e8fbe9;
      border-color: #2ecc71;
    }
    
    .options-popup {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      border: 1px solid #dbe7fb;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      z-index: 100;
      min-width: 150px;
    }
    
    .option-item {
      padding: 8px 12px;
      cursor: pointer;
      border-bottom: 1px solid #f0f4fb;
    }
    
    .option-item:hover {
      background: #f0f6ff;
    }
    
    .option-item:last-child {
      border-bottom: none;
    }
    
    .horizontal-options {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .option-row {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 10px;
      border: 1px solid #e1e8f6;
      border-radius: 8px;
      background: #fbfdff;
    }
    
    .option-number {
      font-weight: bold;
      color: #2c3e50;
      min-width: 30px;
    }
    
    .option-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .option-btn {
      padding: 8px 16px;
      border: 1px solid #dbe7fb;
      border-radius: 6px;
      background: #f8fbff;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .option-btn:hover {
      background: #e9f0ff;
    }
    
    .option-btn.selected {
      background: #3498db;
      color: white;
      border-color: #3498db;
    }
    
    .word-bank-vertical {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .bank-word-vertical {
      padding: 10px;
      border: 1px solid #dbe7fb;
      border-radius: 6px;
      background: #f8fbff;
      text-align: center;
      cursor: grab;
    }
    
    .bank-word-vertical.used {
      opacity: 0.5;
      cursor: not-allowed;
      background: #f8d7da;
      border-color: #f5c6cb;
    }
    
    .blank-slot {
      display: inline-block;
      min-width: 100px;
      padding: 4px 8px;
      margin: 0 6px;
      background: #fff;
      min-height: 30px;
      vertical-align: middle;
      border: 1px solid #dbe7fb;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .blank-slot.has-answer {
      background: #e8fbe9;
      border-color: #2ecc71;
    }
    
    .footer-buttons {
      display: flex;
      gap: 10px;
    }
    
    .situation-item.used {
      opacity: 0.7;
      cursor: not-allowed;
      background: #f8d7da;
      border-color: #f5c6cb;
      color: #333;
    }
    
    /* Listening Section Styles */
    .listening-task {
      margin-bottom: 10px;
    }
    
    .true-false-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 14px;
    }
    
    .true-false-table th {
      background: #3498db;
      color: white;
      padding: 15px;
      text-align: left;
      font-weight: 600;
      font-size: 14px;
    }
    
    .true-false-table td {
      padding: 15px;
      border-bottom: 1px solid #e1e8f6;
      vertical-align: top;
    }
    
    .true-false-table tr:nth-child(even) {
      background: #f8f9fa;
    }
    
    .true-false-table tr:hover {
      background: #e3f2fd;
    }
    
    .answer-options {
      display: flex;
      gap: 25px;
    }
    
    .answer-option {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      padding: 10px 15px;
      border-radius: 4px;
      transition: background 0.2s;
      font-weight: 500;
    }
    
    .answer-option:hover {
      background: #e3f2fd;
    }
    
    .answer-option input {
      margin: 0;
      transform: scale(1.2);
    }

    .correct-answer {
      background: #d4edda !important;
      border-left: 4px solid #28a745;
    }
    
    .incorrect-answer {
      background: #f8d7da !important;
      border-left: 4px solid #dc3545;
    }
    
    /* Writing Section Styles */
    .writing-task {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #e1e8f6;
      border-radius: 8px;
      background: #fbfdff;
    }
    
    .writing-prompt {
      font-size: 14px;
      color: #2c3e50;
      line-height: 1.6;
      margin-bottom: 15px;
    }
    
    .writing-requirements {
      background: #f8f9fa;
      padding: 12px;
      border-radius: 6px;
      border-left: 4px solid #3498db;
      margin-bottom: 15px;
    }
    
    .writing-requirements h4 {
      margin: 0 0 8px 0;
      color: #2c3e50;
    }
    
    .writing-requirements ul {
      margin: 0;
      padding-left: 20px;
    }
    
    .writing-requirements li {
      margin-bottom: 5px;
      color: #2c3e50;
    }
    
    .writing-area {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .writing-textarea {
      flex: 1;
      min-height: 500px;
      padding: 15px;
      border: 2px solid #e1e8f6;
      border-radius: 8px;
      font-size: 14px;
      line-height: 1.6;
      resize: vertical;
      font-family: Arial, sans-serif;
    }
    
    .writing-textarea:focus {
      outline: none;
      border-color: #3498db;
    }
    
    .word-counter {
      margin-top: 10px;
      text-align: right;
      font-size: 13px;
      color: #7f8c8d;
      padding: 8px 0;
    }
    
    .word-counter .count {
      font-weight: bold;
      color: #2c3e50;
    }
    
    /* Results Page Styles */
    .results-body {
      background: #f7fafc;
      color: #0f1724;
      line-height: 1.6;
    }
    
    .results-header {
      background: #1e3a5f;
      color: #fff;
      padding: 18px 20px;
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .results-logo {
      background: #fff;
      color: #1e3a5f;
      padding: 8px 12px;
      border-radius: 6px;
      font-weight: 800;
    }
    
    .results-title {
      font-size: 18px;
      font-weight: 700;
    }
    
    .results-container {
      max-width: 1100px;
      margin: 22px auto;
      padding: 20px;
    }
    
    .results-tiles {
      display: flex;
      gap: 12px;
      margin: 18px 0;
    }
    
    .results-tile {
      flex: 1;
      background: #fff;
      border-radius: 10px;
      padding: 16px;
      box-shadow: 0 6px 18px rgba(2, 6, 23, 0.06);
      border-left: 6px solid #1e3a5f;
    }
    
    .results-tile h3 {
      margin: 0;
      font-size: 16px;
      color: #1e3a5f;
    }
    
    .results-tile .score {
      font-size: 20px;
      font-weight: 800;
      margin-top: 8px;
    }
    
    .section-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }
    
    .section-table th,
    .section-table td {
      padding: 8px;
      border-bottom: 1px solid #e6eef8;
      text-align: left;
      font-size: 14px;
    }
    
    .summary {
      background: #fff;
      padding: 16px;
      border-radius: 10px;
      margin-top: 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .summary .left {
      font-weight: 700;
    }
    
    .summary .right {
      text-align: right;
    }
    
    .controls {
      display: flex;
      gap: 10px;
      margin-top: 18px;
    }
    
    .results-btn {
      background: #4da6ff;
      border: none;
      color: #fff;
      padding: 10px 14px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .results-btn:hover {
      background: #3a8ce0;
    }
    
    .button-like {
      text-decoration: none;
    }
    
    .small-muted {
      color: #6b7280;
      font-size: 13px;
    }
    
    input[type="number"] {
      width: 90px;
      padding: 8px;
      border: 1px solid #d7e6fb;
      border-radius: 6px;
    }
    
    .note {
      font-size: 13px;
      color: #6b7280;
      margin-top: 8px;
    }
    
    /* Footer */
    footer.controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: white;
      border-top: 1px solid #e1e8f6;
      margin-top: 20px;
    }
    
    .status {
      font-size: 14px;
      color: #7f8c8d;
    }
    
    .ghost {
      background: transparent;
      border: 2px solid #2c3e50;
      color: #2c3e50;
    }
    
    .ghost:hover {
      background: #2c3e50;
      color: white;
    }

    /* Responsive Styles */
    @media (max-width: 980px) {
      .container {
        grid-template-columns: 1fr;
        padding: 12px;
      }
      
      .container-split {
        grid-template-columns: 1fr;
      }
      
      .right-panel {
        order: 2;
      }
      
      .top-tiles {
        padding-left: 8px;
        padding-right: 8px;
      }
      
      header.topbar {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }
      
      .buttons-grid {
        grid-template-columns: 1fr;
      }
      
      .answer-options {
        flex-direction: column;
        gap: 10px;
      }
      
      footer.controls {
        flex-direction: column;
        gap: 15px;
      }
      
      .results-tiles {
        flex-direction: column;
      }
      
      .summary {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
      
      .controls {
        flex-direction: column;
      }
    }
    
    @media (max-width: 600px) {
      .start-content {
        padding: 25px 20px;
      }
      
      h1 {
        font-size: 28px;
      }
      
      .card {
        padding: 20px 15px;
      }
    }

    /* === ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§ === */
    @media (max-width: 480px) {
      /* 1. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
      .container, .container-split, .container-full {
        grid-template-columns: 1fr !important;
        padding: 8px !important;
        gap: 10px !important;
      }
      
      /* 2. Ø¬Ø¹Ù„ Ø§Ù„Ù„ÙˆØ­Ø§Øª (panels) ØªØ£Ø®Ø° Ø¹Ø±Ø¶ ÙƒØ§Ù…Ù„ */
      .left-panel, .right-panel, .main-panel {
        max-height: none !important;
        height: auto !important;
        overflow: visible !important;
        margin-bottom: 10px;
      }
      
      /* 3. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‡ÙŠØ¯Ø± */
      .topbar {
        flex-direction: column !important;
        align-items: stretch !important;
        padding: 10px !important;
      }
      
      .brand {
        justify-content: center;
        margin-bottom: 10px;
      }
      
      /* 4. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø± */
      .buttons-grid {
        grid-template-columns: 1fr !important;
        width: 100%;
      }
      
      .exam-btn {
        width: 100% !important;
        margin: 2px 0 !important;
        font-size: 14px !important;
        padding: 12px 8px !important;
      }
      
      /* 5. ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ§ÙŠÙ„Ø§Øª */
      .top-tiles {
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .tile {
        flex: 0 0 calc(33% - 5px) !important;
        max-width: calc(33% - 5px) !important;
        margin: 2px;
        font-size: 11px !important;
        padding: 8px 4px !important;
      }
      
      /* 6. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù†ØµÙˆØµ */
      .passage, .text-content, .question-text {
        font-size: 15px !important;
        line-height: 1.5 !important;
      }
      
      /* 7. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª */
      .option {
        padding: 12px 10px !important;
        margin: 4px 0 !important;
      }
      
      /* 8. ØªØ­Ø³ÙŠÙ† Ø¬Ø¯Ø§ÙˆÙ„ True/False */
      .true-false-table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
      }
      
      /* 9. ØªØ­Ø³ÙŠÙ† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© */
      .writing-textarea {
        min-height: 300px !important;
        font-size: 16px !important;
      }
      
      /* 10. ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙÙˆØªØ± */
      footer.controls {
        flex-direction: column !important;
        gap: 10px !important;
      }
      
      .footer-buttons {
        width: 100%;
        display: flex;
        gap: 5px;
      }
      
      .footer-buttons .exam-btn {
        flex: 1;
      }
      
      /* 11. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
      .results-tiles {
        flex-direction: column !important;
      }
      
      .results-tile {
        margin-bottom: 10px;
      }

      /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‡ÙŠØ¯Ø± Ù„Ù„Ù‡ÙˆØ§ØªÙ */
      .topbar {
        padding: 8px 10px !important;
      }
      
      /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ§ÙŠÙ„Ø§Øª (Tiles) */
      .tile {
        max-width: 45% !important;
        min-height: 50px !important;
        padding: 8px !important;
        font-size: 11px !important;
      }
      
      /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª */
      .option .radio {
        width: 20px !important;
        height: 20px !important;
      }
      
      /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø·ÙˆÙŠÙ„Ø© */
      .left-panel, .right-panel {
        padding: 12px !important;
        font-size: 15px !important;
      }
      
      /* ØªØ­Ø³ÙŠÙ† Ø¬Ø¯Ø§ÙˆÙ„ True/False */
      .true-false-table th,
      .true-false-table td {
        padding: 8px 4px !important;
      }
    }

    /* === ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© === */
    @media (min-width: 481px) and (max-width: 768px) {
      .container, .container-split {
        grid-template-columns: 1fr !important;
      }
      
      .tile {
        max-width: 180px !important;
      }
    }
  </style>
</head>
<body id="body">
  <!-- Start Page -->
  <div id="start-page" class="start-container">
    <div class="start-content">
      <div class="logo">
        <div class="logo-icon">ğŸ“</div>
        <h1>Deutsch B2 PrÃ¼fung</h1>
        <div class="subtitle">Bereiten Sie sich auf Ihre PrÃ¼fung vor</div>
      </div>
      <div class="card">
        <h2>PrÃ¼fungsbereich auswÃ¤hlen</h2>
        <p>WÃ¤hlen Sie bitte den Bereich aus, den Sie Ã¼ben mÃ¶chten. Die PrÃ¼fung startet automatisch in <span id="time-display">30</span> Sekunden.</p>
        <select id="sectionSelect">
          <option value="lesen">Lesen</option>
          <option value="hoeren">HÃ¶ren</option>
          <option value="schreiben">Schreiben</option>
        </select>
        <div class="button-container">
          <button id="cancelBtn" class="btn">Abbrechen</button>
          <button id="startBtn" class="btn">Jetzt starten</button>
        </div>
      </div>
      <div class="timer-container">
        <div class="timer-label">Die PrÃ¼fung startet in:</div>
        <div class="timer" id="countdown">30</div>
        <div class="progress-bar">
          <div class="progress" id="progress"></div>
        </div>
      </div>
      <div class="info-text">Stellen Sie sicher, dass Sie in einer ruhigen Umgebung sind und genÃ¼gend Zeit haben.</div>
    </div>
  </div>

  <!-- Lesen Page -->
  <div id="lesen-page" class="exam-page" style="display: none;">
    <header class="topbar" role="banner">
      <div class="brand">
        <div class="logo">test</div>
        <div class="meta">
          <div class="main-title">Deutsch - B2 (Ãœbung)</div>
          <div class="sub-title">Lesen â€” Testbeispiel</div>
        </div>
      </div>

      <div id="timer-lesen" class="timer" aria-live="polite">Verbleibende Zeit: 90:00</div>

      <div class="buttons-grid">
        <button id="resetBtn-lesen" class="exam-btn reset">ğŸ”„ Von neu beginnen</button>
        <button id="saveBtn-lesen" class="exam-btn save">ğŸ“‹ Speichern</button>
        <button id="resultBtn-lesen" class="exam-btn result">ğŸ“Š Ergebnis</button>
        <button id="submitBtn-lesen" class="exam-btn submit">ğŸ Abgabe</button>
        <button class="exam-btn next" id="nextBtn-lesen">â¡ï¸ NÃ¤chste PrÃ¼fung</button>
      </div>
    </header>

    <div class="top-tiles" id="topTiles-lesen" role="navigation" aria-label="Sections overview"></div>

    <div class="container">
      <main class="left-panel" id="leftPanel-lesen">
        <div class="passage" id="passage-lesen">
          <h2 id="passageTitle-lesen">Aufgabe</h2>
          <div id="passageContent-lesen"></div>
        </div>
      </main>

      <aside class="right-panel" id="rightPanel-lesen" aria-labelledby="questionTitle-lesen">
        <div class="question-head">
          <div>
            <div id="sectionName-lesen" style="font-weight:800"></div>
            <div id="questionTitle-lesen" style="font-size:13px;color:#55607a">Frage</div>
          </div>
          <button id="resetSectionBtn-lesen" class="exam-btn reset-section" style="display:none;">Teil zurÃ¼cksetzen</button>
        </div>
        <div class="question-body" id="questionBody-lesen"></div>
        <div id="headingsBankContainer-lesen"></div>
      </aside>
    </div>

    <footer class="controls">
      <div class="footer-buttons">
        <button id="prevBtn-lesen" class="exam-btn ghost">ZurÃ¼ck</button>
        <button id="nextBtn-lesen" class="exam-btn ghost">Weiter</button>
      </div>
      <div class="status"><span id="statusText-lesen">Nicht gespeichert</span></div>
    </footer>
  </div>

  <!-- HÃ¶ren Page -->
  <div id="hoeren-page" class="exam-page" style="display: none;">
    <header class="topbar" role="banner">
      <div class="brand">
        <div class="logo">test</div>
        <div class="meta">
          <div class="main-title">Deutsch - B2 (Ãœbung)</div>
          <div class="sub-title">HÃ¶rverstehen â€” Testbeispiel</div>
        </div>
      </div>

      <div id="timer-hoeren" class="timer" aria-live="polite">Verbleibende Zeit: 17:00</div>

      <div class="buttons-grid">
        <button id="resetBtn-hoeren" class="exam-btn reset">ğŸ”„ Von neu beginnen</button>
        <button id="saveBtn-hoeren" class="exam-btn save">ğŸ“‹ Speichern</button>
        <button id="resultBtn-hoeren" class="exam-btn result">ğŸ“Š Ergebnis</button>
        <button id="submitBtn-hoeren" class="exam-btn submit">ğŸ Abgabe</button>
        <button class="exam-btn next" id="nextBtn-hoeren">â¡ï¸ NÃ¤chste PrÃ¼fung</button>
      </div>
    </header>

    <div class="top-tiles" id="topTiles-hoeren" role="navigation" aria-label="Sections overview"></div>

    <div class="container-full">
      <main class="main-panel" id="mainPanel-hoeren">
        <div id="contentContainer-hoeren"></div>
      </main>
    </div>

    <footer class="controls">
      <div class="footer-buttons">
        <button id="prevBtn-hoeren" class="exam-btn ghost">ZurÃ¼ck</button>
        <button id="nextBtn-hoeren" class="exam-btn ghost">Weiter</button>
      </div>
      <div class="status"><span id="statusText-hoeren">Nicht gespeichert</span></div>
    </footer>
  </div>

  <!-- Schreiben Page -->
  <div id="schreiben-page" class="exam-page" style="display: none;">
    <header class="topbar" role="banner">
      <div class="brand">
        <div class="logo">test</div>
        <div class="meta">
          <div class="main-title">Deutsch - B2 (Ãœbung)</div>
          <div class="sub-title">Schreiben â€” Testbeispiel</div>
        </div>
      </div>

      <div id="timer-schreiben" class="timer" aria-live="polite">Verbleibende Zeit: 30:00</div>

      <div class="buttons-grid">
        <button id="resetBtn-schreiben" class="exam-btn reset">ğŸ”„ Von neu beginnen</button>
        <button id="saveBtn-schreiben" class="exam-btn save">ğŸ“‹ Speichern</button>
        <button id="resultBtn-schreiben" class="exam-btn result">ğŸ“Š Ergebnis</button>
        <button id="submitBtn-schreiben" class="exam-btn submit">ğŸ Abgabe</button>
        <button class="exam-btn next" id="nextBtn-schreiben">â¡ï¸ NÃ¤chste PrÃ¼fung</button>
      </div>
    </header>

    <div class="top-tiles" id="topTiles-schreiben" role="navigation" aria-label="Sections overview"></div>

    <div class="container-split">
      <main class="left-panel" id="leftPanel-schreiben">
        <div class="passage" id="passage-schreiben">
          <h2 id="passageTitle-schreiben">Aufgabe</h2>
          <div id="passageContent-schreiben"></div>
        </div>
      </main>

      <aside class="right-panel" id="rightPanel-schreiben">
        <div id="writingContainer-schreiben"></div>
      </aside>
    </div>

    <footer class="controls">
      <div class="footer-buttons">
        <button id="prevBtn-schreiben" class="exam-btn ghost">ZurÃ¼ck</button>
        <button id="nextBtn-schreiben" class="exam-btn ghost">Weiter</button>
      </div>
      <div class="status"><span id="statusText-schreiben">Nicht gespeichert</span></div>
    </footer>
  </div>

  <!-- Ergebnisse Page -->
  <div id="ergebnisse-page" class="results-page" style="display: none;">
    <header class="results-header">
      <div class="results-logo">test</div>
      <div class="results-title">Gesamtergebnis â€” Deutsch B2</div>
    </header>

    <div class="results-container">
      <div class="results-tiles" id="topTiles-ergebnisse"></div>
      <div id="details-ergebnisse"></div>
      <div class="summary" id="finalSummary-ergebnisse"></div>
      <div class="controls">
        <a class="button-like" href="#" id="backBtn-ergebnisse">
          <button class="results-btn">ğŸ” ZurÃ¼ck zur Startseite</button>
        </a>
        <button id="calcBtn-ergebnisse" class="results-btn">âœ… Ergebnisse anzeigen</button>
      </div>
      <div class="note">Hinweis: Schreiben (45 Punkte) wird manuell eingegeben, falls nicht automatisch vorhanden.</div>
    </div>
  </div>

  <script>
    // ===== PAGE NAVIGATION =====
    function showPage(pageId) {
      // Hide all pages
      document.getElementById('start-page').style.display = 'none';
      document.getElementById('lesen-page').style.display = 'none';
      document.getElementById('hoeren-page').style.display = 'none';
      document.getElementById('schreiben-page').style.display = 'none';
      document.getElementById('ergebnisse-page').style.display = 'none';
      
      // Change body class based on page
      document.getElementById('body').className = '';
      if (pageId === 'ergebnisse-page') {
        document.getElementById('body').className = 'results-body';
      } else if (pageId !== 'start-page') {
        document.getElementById('body').className = 'exam-body';
      }
      
      // Show selected page
      document.getElementById(pageId).style.display = 'block';
      
      // Initialize the page if needed
      if (pageId === 'lesen-page' && typeof initLesenPage === 'function') {
        initLesenPage();
      } else if (pageId === 'hoeren-page' && typeof initHoerenPage === 'function') {
        initHoerenPage();
      } else if (pageId === 'schreiben-page' && typeof initSchreibenPage === 'function') {
        initSchreibenPage();
      } else if (pageId === 'ergebnisse-page' && typeof initErgebnissePage === 'function') {
        initErgebnissePage();
      }
    }

    // ===== START PAGE FUNCTIONALITY =====
    let initialCounter = 30;
    let counter = initialCounter;
    let countdownInterval;
    let countdownRunning = false;
    let examStarted = false;
    const timerEl = document.getElementById("countdown");
    const timeDisplayEl = document.getElementById("time-display");
    const progressEl = document.getElementById("progress");
    const selectEl = document.getElementById("sectionSelect");
    const startBtn = document.getElementById("startBtn");
    const cancelBtn = document.getElementById("cancelBtn");

    function startCountdown() {
      // prevent double-starts or starting after exam already began
      if (countdownRunning || examStarted) return;
      countdownRunning = true;
      // disable start button while counting
      try { startBtn.disabled = true; startBtn.setAttribute('aria-disabled','true'); } catch(e){}
      // reset counter & UI
      counter = initialCounter;
      timerEl.textContent = counter;
      timeDisplayEl.textContent = counter;
      progressEl.style.transform = "scaleX(0)";
      timerEl.style.color = "";

      countdownInterval = setInterval(() => {
        counter--;
        timerEl.textContent = counter;
        timeDisplayEl.textContent = counter;
        const progressValue = (initialCounter - counter) / initialCounter;
        progressEl.style.transform = `scaleX(${progressValue})`;
        if (counter <= 0) {
          clearInterval(countdownInterval);
          countdownInterval = null;
          countdownRunning = false;
          progressEl.style.transform = "scaleX(1)";
          // ensure exam starts only once
          if (!examStarted) {
            examStarted = true;
            startExam();
          }
          // safety: re-enable start button (page usually navigates away)
          try { startBtn.disabled = false; startBtn.removeAttribute('aria-disabled'); } catch(e){}
        }
      }, 1000);
    }

    function stopCountdown(reset = true) {
      if (countdownInterval) {
        clearInterval(countdownInterval);
        countdownInterval = null;
      }
      countdownRunning = false;
      try { startBtn.disabled = false; startBtn.removeAttribute('aria-disabled'); } catch(e){}
      progressEl.style.transform = "scaleX(0)";
      if (reset) {
        counter = initialCounter;
        timerEl.textContent = counter;
        timeDisplayEl.textContent = counter;
      } else {
        timerEl.textContent = "Gestoppt";
      }
    }

    function startExam() {
      // guard to ensure startExam is triggered once
      if (!examStarted) examStarted = true;
      const selectedSection = selectEl.value;
      if (selectedSection === 'lesen') {
        showPage('lesen-page');
      } else if (selectedSection === 'hoeren') {
        showPage('hoeren-page');
      } else if (selectedSection === 'schreiben') {
        showPage('schreiben-page');
      }
    }

    // wire buttons: start will now start the countdown (not the exam directly)
    startBtn.addEventListener('click', startCountdown);

    cancelBtn.addEventListener('click', () => {
      stopCountdown(true);
      timerEl.textContent = "Abgebrochen";
      timerEl.style.color = "#e53e3e";
    });

    // ===== EXAM DATA =====
    const EXAM_DATA = {
      lesen: {
        id: "exam-lesen-001",
        durationSec: 90 * 60,
        sections: [
          { 
            id: "s1", 
            title: "Leseverstehen, Teil 1", 
            points: 25,
            passageTitle: "Aufgabe: Ziehen Sie die passenden Ãœberschriften auf die Texte.",
            passage: "",
            questions: [],
            texts: [
              {
                id: "text1",
                content: "Vielen Menschen verursachen sie ein mulmiges GefÃ¼hl: Die meisten Schnurlos-Telefone strahlen auch dann, wenn man gar nicht telefoniert. Vor allem DECT-GerÃ¤te (Digital Enhanced Cordless Telecommunications â€“ digital verbesserte schnurlose Kommunikation) sind deshalb in die Kritik geraten. AllmÃ¤hlich nehmen Hersteller die Bedenken ernst und bieten GerÃ¤te an, die das Bundesamt fÃ¼r Strahlenschutz (BfS) als â€bedingt strahlungsarmâ€œ einstuft. Stehen diese Telefone auf der Ladestation wird die Sendeleistung von HandgerÃ¤t und Basis abgeschaltet oder radikal vermindert. Voraussetzung: Nur ein Mobilteil ist angemeldet. Einige Modelle reduzieren die Strahlung auch, wenn man nahe der Basisstation telefoniert: Nur 25 Prozent Sendeleistung braucht das Siemens Gigaset E360 im Umkreis von fÃ¼nf Metern, das AEG Fame 400 kommt mit rund 30 Prozent aus.",
                correctAnswer: "c"
              },
              {
                id: "text2", 
                content: "Wenn Kinder ein Handy haben, dann ist das schÃ¶n und gut. Doch was, wenn der Filius nicht dran geht? Wenn er mÃ¶glicherweise etwas Besseres zu tun hat, als zurÃ¼ckzurufen? Und noch schlimmer, wenn sich Heranwachsende im prÃ¼den Amerika schmutzige Bilder auf dem Handydisplay anschauen? Das schreit nach Kontrolle. Und genau die will Motorolas CEO Edward Zander den Eltern Ã¼ber ihre Kinder geben: Sie sollen jederzeit wissen, wo sie (oder deren Mobiltelefon) sind und was sie damit tun. Verbunden werden soll die EinfÃ¼hrung von einem solchen Handy mit einer Reihe Merkmale, die junge Menschen ansprechen, wie zum Beispiel mit dem fÃ¼r nÃ¤chsten Monat anvisierten Start des iTunes-Handys. â€Handys sind heute das, was in meiner Jugend der Fernseher warâ€œ, so Zander. â€Aber es gibt einen Weg, es sicher zu machen.â€œ Eltern mÃ¼ssten sich in die entstehende Jugendkultur rund um Handys stÃ¤rker einbringen, und sie sollten sich stÃ¤rker fÃ¼r das interessieren, was sie hÃ¶ren, sehen und lesen, so Zander weiter. Handys mit entsprechender Zensur-Software seien bereits in Vorbereitung.",
                correctAnswer: "a"
              },
              {
                id: "text3",
                content: "SpaÃŸ! Die Verbraucherzentrale Schleswig-Holstein erklÃ¤rt, wie Sie richtig wÃ¤hlen. Bis 30. Juli mÃ¼ssen alle europÃ¤ischen Mobilfunkanbieter den neuen â€Eurotarifâ€œ anbieten. Er gilt in allen EU-Staaten und schreibt Preislimits von maximal 49 Cent/Min. fÃ¼r eigene Anrufe bzw. maximal 24 Cent fÃ¼r ankommende GesprÃ¤che vor. Aber aufgepasst: Falle 1: kein Rabatt im Juli/August! Falle 2: Mehrwertsteuer! Zu den Kosten fÃ¼r abgehende bzw. angenommene Anrufe kommen noch 19 % Mehrwertsteuer dazu. Falle 3: Alte Sondertarife! Bis 20 Prozent der Handy-Nutzer haben SondervertrÃ¤ge fÃ¼r AuslandsgesprÃ¤che. Gefahr: Sie kÃ¶nnten den neuen Eurotarif nicht nutzen. Unbedingt informieren! Die besten Spar-Tricks: Prepaid-Karte. Besonders fÃ¼r Viel-Telefonierer interessant. Zurzeit zahlen die meisten Kunden mit Vertrag mindestens 99 Cent per angefangene Minute, mit Prepaid-Karte nur etwa 58,31 Cent. SMS schreiben. Im Vergleich zu Telefonaten sind Kurzmitteilungen (SMS) auch im Urlaub meistens gÃ¼nstiger.",
                correctAnswer: "h"
              },
              {
                id: "text4",
                content: "Manche Momente muss man einfach festhalten â€“ mit einem Foto. Doch dessen QualitÃ¤t hÃ¤ngt von vielen Faktoren ab: der Kamera, den VerhÃ¤ltnissen vor Ort und der Erfahrung des Fotografen! FÃ¼r ein paar schÃ¶ne Erinnerungsfotos sich aber eine teure Profi-AusrÃ¼stung zuzulegen, lohnt selten. Vom Pauken schwieriger technischer Details ganz zu schweigen. Das ist heute auch lÃ¤ngst nicht mehr nÃ¶tig. Schon mit normalen Digitalkameras lassen sich wunderbare Bilder schieÃŸen â€“ mit ein paar Tricks. Abwechslungsreiche Motivewahl. Die meisten Urlauber fotografieren gerne SehenswÃ¼rdigkeiten mit ihren Liebsten. Schaut man sich die Bilder spÃ¤ter an, sind sie oft eine Variation des ewig Gleichen: der Sohn auf dem Kamel, vor der Kathedrale, im Ø§Ù„Ù…Ø³Ø¨Ø­. Der Sohn ist niedlich, keine Frage. Es kann jedoch nicht schaden, die Motive zu variieren: verschiedene Personen und Orte, zu unterschiedlichen Tageszeiten â€“ mal den menschenleeren Strand, mal das MarktgetÃ¼mmel. NÃ¤he und Distanz. Mehr Abwechslung erreichen Sie auch, wenn Sie mit der NÃ¤he zum Objekt spielen: hier ØµÙˆØ±Ø© Ø¨Ø§Ù†ÙˆØ±Ø§Ù…ÙŠØ© Ù…Ø¹ Ø§Ù„Ø¹Ø¯Ø³Ø© ÙˆØ§Ø³Ø¹Ø© Ø§Ù„Ø²Ø§ÙˆÙŠØ©ØŒ Ù‡Ù†Ø§Ùƒ ØµÙˆØ±Ø© Ù‚Ø±ÙŠØ¨Ø©. Perspektive und Technik. Schnelle SchnappschÃ¼sse gelingen nicht immer. Nehmen Sie sich Zeit fÃ¼r PortrÃ¤t- und Landschaftsaufnahmen. Nutzen Sie dabei auch den extra einstellbaren Modus bei Digitalkameras. Er stellt Objektiv und Beleuchtung perfekt auf die gewÃ¤hlte Variante ein. Licht und Schatten. FÃ¼r stimmungsvolle Bilder eignen sich am besten Vormittags- Ùˆ SpÃ¤tnachmittagsstunden, weil das Licht dann besonders weich ist.",
                correctAnswer: "b"
              },
              {
                id: "text5",
                content: "Es gibt in Deutschland wohl kaum eine bessere Chance fÃ¼r die EinfÃ¼hrung von Handy-TV als die FuÃŸball-WM 2006. Doch ein rechtzeitiger Start ist ungewiss. Die Problemfelder sind vielschichtig. Drei Standards kÃ¤mpfen darum, das erste deutsche Mobilfernsehen zu sein: UMTS, DMB und DVB-H. Und das mÃ¶glichst pÃ¼nktlich zum 9. Juni 2006, dem Start der FuÃŸball-WM. Dieser Dreikampf wird von Experten jedoch kritisch betrachtet. In SÃ¼dostasien floriert dieser Markt doch schon seit vielen Monaten. In Korea beispielsweise gehÃ¶rt der mobile Fernsehgenuss zum Alltag. Bis zu zwei Stunden tÃ¤glich schauen Besitzer der kleinen TV-Handys dort unterwegs auf die Mini-Mattscheibe. Warum sollte dies mittelfristig nicht auch ÙÙŠ Ø£Ù„Ù…Ø§Ù†ÙŠØ§ realisierbar sein? In einem sind sich Experten jedoch sicher. Handy-TV wird die Fernsehbranche verÃ¤ndern. Kenner sprechen von drei neuen Prime Times (Hauptfernsehzeiten), die durch die mobile Glotze entstehen: Der Weg zur Arbeit, die Mittagspause und der Heimweg. DafÃ¼r ist jedoch eine andere Art von Inhalten notwendig, vor allem kurz mÃ¼ssen sie sein, denn kaum jemand wird sich einen kompletter Spielfilm auf dem kleinen Bildschirm ansehen wollen.",
                correctAnswer: "j"
              }
            ],
            headings: [
              {id: "a", text: "Neue Kinderhandys auf den Markt gebracht."},
              {id: "b", text: "Profi-Tipps fÃ¼r bessere Urlaubsbilder."},
              {id: "c", text: "Moderne schnurlose GerÃ¤te vermindern die Strahlenbelastung."},
              {id: "d", text: "Mehr Mut zum Fotografieren!"},
              {id: "e", text: "Handy im Ausland: aufpassen und tricksen!"},
              {id: "f", text: "Kinder-Ãœberwachung fÃ¼r Eltern per Handy wird geplant."},
              {id: "g", text: "Tipps zum Telefonieren mit weniger Strahlung."},
              {id: "h", text: "Der neue Euro-Tarif."},
              {id: "i", text: "Handy-TV zur FuÃŸball-WM 2006."},
              {id: "j", text: "Mobiler Fernsehgenuss wird zum Alltag!"}
            ]
          },
          { 
            id:"s2", 
            title:"Leseverstehen, Teil 2", 
            points:25,
            passageTitle: "Wie zwei US-Teenager MillionÃ¤re wurden",
            passage: `MÃ¤rchenwelt Web 2.0: Catherine und David Cook waren 15 und 16, als ihnen beim BlÃ¤ttern im Highschool-Jahrbuch eine Idee kam. Eine Internetseite, zum Flirten und LÃ¤stern, wie ein Schulhof fÃ¼r Ehemalige. Sie erfanden â€MyYearbook.comâ€œ, die Seite, die sie reich gemacht hat. Es muss irgendwann zwischen Mathe-Hausaufgaben und Abendessen gewesen sein: Catherine Cook, 15, liegt auf dem Bett und blÃ¤ttert das aktuelle Jahrbuch ihrer Highschool in Skillman, New Jersey, durch. Sie schlÃ¤gt die Seite auf, auf der ihr Schwarm zu sehen ist. Seit einem Jahr ist sie heimlich in ihn verliebt. Um seinen Kopf hat sie ein pink-farbenes Herz gemalt. Schon zig Mal hat sie diese Seite angeschaut, ganz abgegriffen ist das Papier. Jetzt ist er weg, hat seinen Abschluss gemacht, studiert an einem College. Seitdem hÃ¶rt sie nichts mehr von ihm, keine neuen Infos, keine neuen Fotos. Wie praktisch wÃ¤re ein digitales Jahrbuch â€“ ein Netzwerk, in dem man den Weg der ehemaligen MitschÃ¼ler verfolgen, mit aktuellen Freunden chatten, den sÃ¼ÃŸen Typ aus der Parallelklasse unverbindlich anschreiben und mit Freundinnen lÃ¤stern kann â€¦ Catherine erzÃ¤hlt ihrem 16-jÃ¤hrigen Bruder David von der Idee. Er ist begeistert: Ein Jahrbuch 2.0. Eine digitale Version der Kladde, die zum Schuljahresende an die SchÃ¼ler verkauft wird. Oder einfach: ein â€Facebookâ€œ fÃ¼r Highschool-SchÃ¼ler. Sicher ist diese Idee dem einen oder anderen SchÃ¼ler vorher auch schon gekommen. Aber Catherine und David Cook haben einen entscheidenden Vorteil: Geoffrey, den groÃŸen Bruder mit viel Geld. Sie erzÃ¤hlen ihm von ihrer Idee, er ist begeistert und investiert eine viertel Million Dollar.

Noch am selben Abend beginnen die Geschwister das Design fÃ¼r die Seite auf Papier zu zeichnen. In den folgenden NÃ¤chten faxen sie die EntwÃ¼rfe nach Indien zu den Programmierern, die der groÃŸe Bruder Geoffrey fÃ¼r das Projekt angeheuert hat. â€Das war eine spannende Zeit, die KÃ¼che unseres Elternhauses wurde zur Kommandozentrale. Die ganze Familie stand sofort hinter dem Projekt, alle haben mit Ã¼berlegtâ€œ, sagt David. Wenige Wochen spÃ¤ter, im Sommer 2005, geht die Seite online. Heute ist klar: Die Investition hat sich gelohnt. Die beiden Teenager Catherine, heute 17, und David, 19, sind zwar noch nicht volljÃ¤hrig in den USA, aber bereits MillionÃ¤re. Und der 29-jÃ¤hrige Geoffrey Cook, der schon als Student an der UniversitÃ¤t Harvard mit dem Verkauf zweier Internetseiten seine erste Million verdient hatte, hat seine investierten 250.000 Dollar lÃ¤ngst wieder raus. Er ist nun Firmenchef von â€MyYearbook.comâ€œ. Die Seite ist die am schnellsten wachsende Internetseite in den USA, so das Ergebnis einer Erhebung des Instituts â€com.Scoreâ€œ, das Besucherzahlen im Internet misst und regelmÃ¤ÃŸig verÃ¶ffentlicht. Jeden Tag melden sich 15.000 neue Mitglieder an. Insgesamt sind es inzwischen vier Millionen Menschen zwischen 13 und 21 Jahren, die sich dort zum Chatten treffen, einfach Zeit verbringen. Und was das Wichtigste fÃ¼r die Macher ist: Werbespots anschauen. Laut einer SchÃ¤tzung von â€com.Scoreâ€œ sind mit sozialen Netzwerken wie â€MyYearbook.comâ€œ im Internet dieses Jahr 900 Millionen Dollar zu verdienen, allein in den USA. Einen GroÃŸteil davon streichen die Platzhirsche â€Myspace.comâ€œ und â€Facebook.comâ€œ ein, aber auch â€MyYearbook.comâ€œ verdient ordentlich mit. WÃ¤hrend einige US-Schulen die Rechner wieder in den Schrank verbannen, wird es bei den SchÃ¼lern immer mehr zum Trend, ihre Freizeit mit Freunden virtuell zu verbringen, statt im Park um die Ecke auf morschen Tischtennisplatten zu hocken. Etwa 60 Prozent der 12- bis 17-JÃ¤hrigen und gar 80 Prozent der 18- bis 21-JÃ¤hrigen nutzen diese sozialen Netzwerke, so eine US-Studie des Forrester-Instituts. Auch in Deutschland legte das Portal â€StudiVZâ€œ im letzten Jahr einen rasanten Erfolg hin.

â€MyYearbook.comâ€œ ist ein Paradebeispiel einer solchen Netzwerkseite. Nirgendwo sonst kann man so viel loswerden wie hier, Ã¼ber sich und Ã¼ber andere: Man wÃ¤hlt den peinlichsten Lehrer, den grÃ¶ÃŸten Schwarm, das schÃ¶nste MÃ¤dchen der Stufe und vieles mehr. Dass zwei SchÃ¼ler die Seite entworfen haben, merkt man bei jedem Klick: Hier treten zum Beispiel zwei junge Frauen mit Fotos gegeneinander an, die Internetgemeinde entscheidet, wer cooler ist und â€Promqueenâ€œ werden soll, also Abschlussball-KÃ¶nigin. NebensÃ¤chlich fÃ¼r Erwachsene â€“ aber lebenswichtig fÃ¼r amerikanische Highschool-SchÃ¼lerinnen! Diese ganze Highschool-Welt, die sich dem EuropÃ¤er hÃ¶chstens beim Schulaustausch in den Staaten oder in Highschool-Filmen wie â€American Pieâ€œ offenbart, gibt es hier in Reinform zu bestaunen. Man kann MitschÃ¼ler als Jungfrauen brandmarken, sein eigenes Outing im Internet vollziehen, einem MÃ¤dchen Blumen schicken, sich als Verehrer auf ihrer Seite eintragen â€“ alles sichtbar fÃ¼r den Sitznachbarn aus dem Bio-Kurs und jeden anderen US-SchÃ¼ler mit Account. Catherine ist sich sicher, dass dies das Geheimrezept von â€MyYearbook.comâ€œ ist. â€Wir haben eine Internetgemeinde gegrÃ¼ndet, in der es genauso abgeht wie auf dem Schulhof, das kommt an!â€œ Sie schwÃ¤rmt inzwischen nicht mehr fÃ¼r sÃ¼ÃŸe Highschool-Jungs, sie ist nun selbst Absolventin. Zum kommenden Semester beginnt sie ihr BWL-Studium an der Georgetown University in Washington DC. Bei â€MyYearbook.comâ€œ bleibt sie trotzdem angemeldet â€“ schon allein wegen der 3065 Jungs, die sich auf ihrer Profilseite als â€Verehrerâ€œ geoutet haben.`,
            questions: [
              {
                id: "s2q1",
                type: "single",
                text: "Zwei US Highschool-SchÃ¼ler sind",
                options: [
                  {id: "s2q1o1", text: "mit dem Geld ihres Bruders reich geworden"},
                  {id: "s2q1o2", text: "durch eine einfache Idee reich geworden"},
                  {id: "s2q1o3", text: "durch eine einfache Idee und mit der finanziellen Hilfe ihres Bruders reich geworden"}
                ],
                correctAnswer: "s2q1o3"
              },
              {
                id: "s2q2",
                type: "single", 
                text: "Ã„hnliche Internetseiten sind heutzutage",
                options: [
                  {id: "s2q2o1", text: "nur in den USA beliebt"},
                  {id: "s2q2o2", text: "sowohl in den USA als auch in Deutschland erfolgreich"},
                  {id: "s2q2o3", text: "Ã¼berall sehr populÃ¤r"}
                ],
                correctAnswer: "s2q2o2"
              },
              {
                id: "s2q3",
                type: "single",
                text: "Die Idee von Catherine und David Cook wurde erfolgreich, weil",
                options: [
                  {id: "s2q3o1", text: "sie Treffen fÃ¼r Ex-SchÃ¼ler im Internet organisiert haben"},
                  {id: "s2q3o2", text: "sie eine Internetseite gegrÃ¼ndet haben, die ihrem Schulhof Ã¤hnlich ist"},
                  {id: "s2q3o3", text: "alle fÃ¼r die SchÃ¼ler wichtigen Sachen auf dieser Seite genauso passieren, als wÃ¤re es in der eigenen Schule"}
                ],
                correctAnswer: "s2q3o3"
              },
              {
                id: "s2q4",
                type: "single",
                text: "Die Jugendlichen in den USA benutzen solche Netzwerke",
                options: [
                  {id: "s2q4o1", text: "um Ã¼ber die Highschool-Welt informiert zu sein"},
                  {id: "s2q4o2", text: "um ihre Freizeit virtuell verbringen zu kÃ¶nnen"},
                  {id: "s2q4o3", text: "um mit Freunden chatten zu kÃ¶nnen"}
                ],
                correctAnswer: "s2q4o2"
              },
              {
                id: "s2q5", 
                type: "single",
                text: "Catherine ist",
                options: [
                  {id: "s2q5o1", text: "als Studentin an der Georgetown University bereits MillionÃ¤rin"},
                  {id: "s2q5o2", text: "noch immer an ihrer Seite angemeldet"},
                  {id: "s2q5o3", text: "mit den 3065 Jungs auf ihrer Profilseite beschÃ¤ftigt"}
                ],
                correctAnswer: "s2q5o2"
              }
            ]
          },
          { 
            id:"s3", 
            title:"Leseverstehen, Teil 3", 
            points:25,
            passageTitle:"Aufgabe: Lesen Sie die zehn Situationen (11-20) und die zwÃ¶lf Texte (A-L). Welcher Text passt zu welcher Situation? Sie kÃ¶nnen jeden Text nur einmal verwenden. Manchmal passt kein Text. WÃ¤hlen Sie dann 'x'.",
            passage: "",
            questions:[],
            texts: [
              {id: "A", text: "14.01. â€“ 10:00 Uhr (VOX) McLeods TÃ¶chter 19/1 Ein Italiener zum Verlieben Jodi schwebt im siebten Himmel: Sie hat den charmanten und gut aussehenden Italiener Alberto kennengelernt und ihm auch gleich einen Job auf Drover's Run verschafft. Meg ist die stÃ¼rmische Beziehung zwischen den beiden jedoch ein Dorn im Auge, und als sie schlieÃŸlich herausfindet, dass Alberto sich illegal in Australien aufhÃ¤lt, sieht sie ihren Verdacht bestÃ¤tigt: Alberto hat sich nur an ihre Tochter herangemacht, um an eine Aufenthaltsgenehmigung zu kommen. Um sicher zu gehen, soll Becky den ahnungslosen Alberto nun testen, doch der erweist sich als Ã¤uÃŸerst standfest. Es scheint, als wÃ¼rde er Jodi tatsÃ¤chlich von ganzem Herzen lieben. Zu dumm, dass Jodi ihren Freund nach dem Test aus Beckys Zimmer kommen sieht und ihn wutentbrannt bei der EinwanderungsbehÃ¶rde anzeigt â€¦", correctAnswer: "11"},
              {id: "B", text: "14.01. â€“ 16:00 Uhr (VOX) auf und davon â€“ Mein Auslandstagebuch Folge 88 Ein Jahr im Ausland â€“ fÃ¼r junge Menschen ein groÃŸer Traum. Viele deutsche Jugendliche gehen deshalb als Au-pair oder AustauschschÃ¼ler in die Ferne. In der Dokumentation â€auf und davon â€“ Mein Auslandstagebuchâ€œ begleitet VOX junge Menschen, die zum ersten Mal in ihrem Leben ihre Familien, ihre Freunde und ihre Heimat verlassen â€¦", correctAnswer: "12"},
              {id: "C", text: "8.01. â€“ 22:45 Uhr SPIEGEL TV Thema Thema: Die Chemie des Todes â€“ MÃ¶rdersuche im Labor, Teil 3 Mord verjÃ¤hrt nie. Auch wenn der TÃ¤ter nur wenige, unsichtbare Spuren hinterlÃ¤sst und die Ermittlungsarbeit oft langwierig ist â€“ meist ist die MÃ¶rdersuche im Labor erfolgreich. Verbrechen, die noch vor wenigen Jahren zu den Akten gelegt werden mussten, werden heute von Forensikern mithilfe modernster Kriminaltechnik aufgeklÃ¤rt. Oft genÃ¼gen mikroskopisch kleine Partikel, um das brutale Geschehen zu rekonstruieren und den MÃ¶rder zu Ã¼berfÃ¼hren. Im Rahmen der dreiteiligen Reihe â€Die Chemie des Todes â€“ MÃ¶rdersuche im Laborâ€œ werden wahre FÃ¤lle rekonstruiert. Ermittler, Rechtsmediziner und Profiler schildern, welche wissenschaftlichen und technischen Methoden sie anwenden, um auch die mysteriÃ¶sesten MordfÃ¤lle zu lÃ¶sen.", correctAnswer: "14"},
              {id: "D", text: "16.01.2008 â€“ 22:50 Uhr BBC Exklusiv Thema: Wildes Wetter, Teil 2: KÃ¤lte und Hitze Das Wetter ist eines der wenigen NaturphÃ¤nomene, das uns nach wie vor RÃ¤tsel aufgibt. Selbst mit modernster Wissenschaft lÃ¤sst es sich nur bedingt voraussagen, selten beeinflussen und nie kontrollieren. Diese zweiteilige Dokumentation fÃ¼hrt die Zuschauer zu den entlegensten Orten der Erde und zeigt, wie das Wetter funktioniert â€“ aufregende Computeranimationen und seltenes Archivmaterial bieten einen neuen Blick auf die weltumspannende Wettermaschine und enthÃ¼llen oft verblÃ¼ffende ZusammenhÃ¤nge â€¦", correctAnswer: "15"},
              {id: "E", text: "Jamie At Home (RTL2) Samstags Jamie Oliver ist zurÃ¼ck an Heim und Herd! In den drei zehn neuen Folgen stellt er wie immer groÃŸartige Rezepte vor, verwendet aber diesmal Zutaten fÃ¼r seine fantastischen Gerichte, die er in seinem eigenen Garten angebaut hat. Von perfekten Kartoffeln zu saftigen Erdbeeren, von leckeren Tomaten bis zum frisch geernteten Pizzabelag, ist \"Jamie At Home\" ein unkomplizierter Ratgeber, wie man das Beste von Mutter Natur persÃ¶nlich serviert bekommt â€“ ohne dass man dafÃ¼r in den Bio-Supermarkt gehen muss. Mithilfe von GÃ¤rtner Brian hat er den Garten seines Hauses in Essex umgebaut und seine Leidenschaft, sein eigenes GemÃ¼se anzubauen, entdeckt, und nun will er zeigen, wie einfach es ist, sich mit selber angebauten Produkten gesund zu ernÃ¤hren. In jeder Sendung wird eine andere GemÃ¼sesorte vorgestellt. Selbst wenn man nur ein Fensterbrett, einen kleinen Balkon oder einen Hinterhof zur VerfÃ¼gung hat: Jamie zeigt die simplen Tricks, wie man fantastisches GemÃ¼se oder FrÃ¼chte auch auf kleinstem Raum ziehen kann â€“ und wie man sie in einfache, kÃ¶stliche Gerichte verwandelt. Vollgepackt mit Dutzenden von neuen Rezepten, die Schritt fÃ¼r Schritt erklÃ¤rt werden, wird es bei â€Jamie At Homeâ€œ jeden Hobbykoch im grÃ¼nen Daumen jucken â€¦", correctAnswer: "17"},
              {id: "F", text: "Die Wahrheit und nichts als die Wahrheit Ab 28. Januar montags um 22:15 Uhr bei RTL II. Endlich eine Show, in der die Kandidaten nicht mit Allgemeinwissen brillieren mÃ¼ssen. Bei uns brauchen sie auch kein besonderes Talent oder GlÃ¼ck. Sie mÃ¼ssen die Wahrheit sagen. Und dazu gehÃ¶rt Mut â€“ denn nichts kann bitterer sein als die Wahrheit und nichts als die Wahrheit! Das unmoralische Angebot: FÃ¼r 21 wahrheitsgemÃ¤ÃŸ beantwortete Fragen gibt es 25.000 Euro! Den Kandidaten werden auÃŸergewÃ¶hnliche, intime und pikante Fragen gestellt. NatÃ¼rlich alles in Anwesenheit ihrer Partner und Familien! Und der Spieler muss immer wieder auf's Neue entscheiden: Wie viel ist der Familienfrieden wert â€¦? Die wahren Antworten lassen die Kandidaten schmunzeln, vor Scham errÃ¶ten oder sie in ErklÃ¤rungsnÃ¶te stÃ¼rzen. Jede unwahre Antwort wird von einem Polygraphen (LÃ¼gendetektor) schonungslos aufgedeckt und fÃ¼hrt zum sofortigen Ende des Spiels.", correctAnswer: "18"},
              {id: "G", text: "RTL The Bourne Identity Sonntag, 13. Januar Spielfilm, 130 Min. USA 2002 Irgendwo auf dem Mittelmeer treibt ein Fischerboot im Sturm. Nicht far davon entfernt schwimmt ein Mann, der fÃ¼r tot gehalten wird. Einmal geborgen, entpuppt sich der vermeintlich Ertrunkene jedoch als lebendig, allerdings schwer verletzt. Innerhalb kurzer Zeit kommt er zwar wieder zu KrÃ¤ften, allein seine Erinnerung an die Nacht, in der er ins Wasser fiel und in der ihm zweimal in den RÃ¼cken geschossen wurde, kehrt nicht zurÃ¼ck. Weil der einzige Hinweis auf die wahre IdentitÃ¤t ein in den Oberschenkel implantierter Code fÃ¼r ein Schweizer Nummernkonto ist, begibt sich der Unbekannte auf direktem Weg nach ZÃ¼rich. Dort stellt er fest, dass sein Name Jason Bourne ist, er in Paris wohnt und jede Menge Geld auf seinem Konto hat. MerkwÃ¼rdig ist allerdings dass Jason auch noch weitere eigene IdentitÃ¤ten vorfindet, jeweils komplettiert mit Reisepass, FÃ¼hrerschein und anderen Dokumenten. Jason beschlieÃŸt, das Geld von seinem Konto mitzunehmen und schleunigst wieder zu verschwinden. AllmÃ¤hlich dÃ¤mmert ihm, dass er zwar einerseits als Agent im Staatsdienst, andererseits aber auch als Auftragskiller tÃ¤tig â€¦", correctAnswer: null},
              {id: "H", text: "ML Mona Lisa (ZDF) â€“ Traumurlaub ganz anders Ã„rzteschiff fÃ¼r Menschen in Not Die ZahnÃ¤rztin Marion BÃ¶sch aus MÃ¼nchen hat sich ihren Traum erfÃ¼llt. Sie sparte ihren Urlaub fÃ¼r vier Wochen Aufenthalt auf der â€Africa Mercyâ€œ. Allerdings ist es kein Kreuzfahrtschiff und ein richtiger Urlaub ist es auch nicht, denn bei dem Schiff handelt es sich um die grÃ¶ÃŸte schwimmende Klinik der Welt.", correctAnswer: "19"},
              {id: "I", text: "LÃ¶wenalarm! Jagd auf Menschenfresser Etwa 40.000 LÃ¶wen leben in Afrika, rund die HÃ¤lfte von ihnen in Tansania. Trotz dieser groÃŸen Zahl kommt es in der Regel nur vereinzelt zu Angriffen auf Menschen. In den ersten Jahren des 21. Jahrhunderts ist die Zahl der Angriffsopfer jedoch sprunghaft angestiegen. Ein Team um den amerikanischen LÃ¶wenforscher Craig Parker sucht nach Ursachen. FÃ¼r Packer scheint es sich nicht um einzelne LÃ¶wen zu handeln, sondern um eine ganze Population. Um die Menschen besser schÃ¼tzen zu kÃ¶nnen und mehr Ã¼ber die Lebensweise der LÃ¶wen zu erfahren, versuchen Craig Packer und sein Team, einige Raubkatzen mit GPS-GerÃ¤ten auszustatten.", correctAnswer: null},
              {id: "J", text: "Land. TschÃ¼ss Deutschland! Neuer Start im fremden Land Manche gehen aus Sehnsucht, andere aus Frust. Und von Jahr zu Jahr werden es more. Viele, vor allem gut ausgebildete Deutsche, ziehen auf der Suche nach lukrativen Jobs und besseren Lebensbedingungen in die Ferne. Dirk (40) und Birthe J. (38) aus Ockholm in Nordfriesland haben auf den ersten Blick alles, was man sich nur wÃ¼nschen kann. Ein reetgedecktes altes Bauernhaus, ein groÃŸes GrundstÃ¼ck, zwei nette Kinder, viele Tiere, kurz: ein schÃ¶nes StÃ¼ck Heimat. Dirk ist Schreiner, er restauriert AntiquitÃ¤ten, doch in den letzten Jahren liefen die GeschÃ¤fte eher schlecht. Dann fand Dirk im Internet seinen Traumjob. Ein deutscher Unternehmer, der alte HÃ¤user in Irland restauriert, suchte hÃ¤nderingend einen Tischler: Nettogehalt 4500 Euro pro Monat! ZunÃ¤chst ging nur Dirk, doch die Familie wird folgen. Die Reportage begleitet ihn beim Start auf der grÃ¼nen Insel und ist dabei, wenn die Familie endlich gemeinsam ihr erstes irisches Haus bezieht. Die ZDF-Reportage zeigt mutige Menschen, die ihr Schicksal in die Hand nehmen und daran glauben, dass es ihn â€¦", correctAnswer: null},
              {id: "K", text: "Bauer sucht Frau Episode: Folge 3 Sonntag, 13. Januar Serie, 60 Min. Auf dem Hof von Biobauer Olaf in Schleswig-Holstein sorgt Katrin (32) fÃ¼r jede Menge Action und gute Laune. Der Wirbelwind krempelt die Ã„rmel hoch und sorgt sowohl in den WohnrÃ¤umen als auch im Schweinestall fÃ¼r Ordnung. Olaf ist von Katrins Energie begeistert. Stellt sich nur die Frage, ob Olafs Eltern Rolf und Helga mit der neuen Frau an Olafs Seite auch zurechtkommen? Tanja trifft auf dem Hof von Schweinebauer Stephan in Niedersachsen ebenfalls auf eine groÃŸe Familie. Stephan lebt mit seinen Eltern Inge und Hans-JÃ¼rgen sowie den GroÃŸeltern und 630 Schweinen auf dem groÃŸen Bauernhof. Finden Stephans Eltern die quirlige 22-JÃ¤hrige sympathisch?", correctAnswer: "20"},
              {id: "L", text: "Episode: Autopsie Mittwoch, 09. Januar Serie, 50 Min. USA 2005 House, M.D. Dr. Wilson kann House davon Ã¼berzeugen, sich des Falles der neunjÃ¤hrigen Andie anzunehmen, die an einer tÃ¶dlichen Krebserkrankung leidet und nicht mehr lange zu leben hat. House wehrt sich zunÃ¤chst mit HÃ¤nden und FÃ¼ÃŸen gegen jede emotionale Einbindung in die tragische Geschichte, kann aber dem scheinbar unerschÃ¼tterlichen Mut der kleinen Patientin schlieÃŸlich doch nichts mehr entgegensetzen. Die Situation spitzt sich dramatisch zu, als Andie plÃ¶tzlich extrem zu halluzinieren beginnt â€“ ein Symptom, dass in keiner Weise mit ihrem Krankheitsbild in Ãœbereinstimmung gebracht werden kann. House vermutet, dass sich im Gehirn des Kindes ein Gerinnsel gebildet hat. Um das Gerinnsel finden zu kÃ¶nnen und damit Andie am Leben zu erhalten, mÃ¼ssen House und sein Team eine extrem gefÃ¤hrliche Operation wagen.", correctAnswer: null}
            ],
            situations: [
              {id: "11", text: "Sie mÃ¶chten sich einen Dokumentarfilm Ã¼ber die Einwanderung nach Australien und Ã¼ber den damit verbundenen Prozess ansehen."},
              {id: "12", text: "Ein junges MÃ¤dchen mÃ¶chte spÃ¤ter als Au-pair oder AustauschschÃ¼lerin ins Ausland gehen und deshalb interessiert es sich fÃ¼r das Thema."},
              {id: "13", text: "Ein Mann interessiert sich fÃ¼r die Aufdeckung von Verbrechen, die frÃ¼her nicht gelÃ¶st werden konnten."},
              {id: "14", text: "Sie schwÃ¤rmen fÃ¼r Krimis, die auf Grund tatsÃ¤chlicher FÃ¤lle rekonstruiert wurden."},
              {id: "15", text: "Sie haben dafÃ¼r groÃŸes Interesse, wie mithilfe von Computertechnik das Wetter an verschiedenen Orten der Welt hervorgesagt werden kann."},
              {id: "16", text: "Ein Mann interessiert sich dafÃ¼r, wie WetterphÃ¤nomene entstehen."},
              {id: "17", text: "Sie suchen ein Gartenmagazin, aus dem Sie alles Ã¼ber den Anbau der GemÃ¼se- und Obstsorten erfahren kÃ¶nnen."},
              {id: "18", text: "Sie mÃ¶chten sich eine Quizsendung ansehen, an der Familienmitglieder teilnehmen."},
              {id: "19", text: "Eine Bekannte von Ihnen sucht einen Reisefilm, Ã¤hnlich dem â€Traumschiffâ€œ, ÙÙŠ dem es wÃ¤hrend eines Reiseaufenthaltes alles Ã¼ber den Aufenthaltsort gezeigt wird."},
              {id: "20", text: "Ein Mann interessiert sich fÃ¼r das Bauernleben und sucht deshalb eine passende Sendung."}
            ]
          },
          { 
            id:"s4", 
            title:"Sprachbausteine, Teil 1", 
            points:15,
            passageTitle:"Aufgabe: ErgÃ¤nzen Sie den Text. WÃ¤hlen Sie fÃ¼r jede LÃ¼cke das passende Wort.",
            passage: "",
            questions:[],
            fillBlanks: [
              {
                id: "21",
                options: ["dafÃ¼r", "dazu", "darauf"],
                correctAnswer: "dafÃ¼r"
              },
              {
                id: "22",
                options: ["statt", "wegen", "wÃ¤hrend"],
                correctAnswer: "wegen"
              },
              {
                id: "23",
                options: ["verschieben", "verschiebten", "verschoben"],
                correctAnswer: "verschoben"
              },
              {
                id: "24",
                options: ["nicht mehr", "sogar nicht", "noch nicht"],
                correctAnswer: "nicht mehr"
              },
              {
                id: "25",
                options: ["geschicken", "eingewiesen", "nachgewiesen"],
                correctAnswer: "eingewiesen"
              },
              {
                id: "26",
                options: ["Ãœbergewicht", "Gleichgewicht", "GleichgÃ¼ltigkeit"],
                correctAnswer: "Ãœbergewicht"
              },
              {
                id: "27",
                options: ["zur", "auf", "fÃ¼r"],
                correctAnswer: "zur"
              },
              {
                id: "28",
                options: ["Ã¼ber", "vor", "hinter"],
                correctAnswer: "hinter"
              },
              {
                id: "29",
                options: ["vor allem", "unter anderem", "auf alle FÃ¤lle"],
                correctAnswer: "unter anderem"
              },
              {
                id: "30",
                options: ["eigentlich", "Ã¼berhaupt", "gar nicht"],
                correctAnswer: "gar nicht"
              }
            ],
            fillText: `Liebe Jutta,
schon so lange habe ich dir nicht geschrieben, ich hatte aber ________ einen triftigen Grund. Ich habe das Schreiben ________ meiner Krankheit vernachlÃ¤ssigt. Ich hatte fÃ¼rchterliche RÃ¼cken- und Kreuzschmerzen, ich habe aber die richtige Untersuchung immer wieder ________. Ich habe immer nur einige Medikamente eingenommen, die fÃ¼r kurze Zeit zwar geholfen haben, aber die Schmerzen kamen immer zurÃ¼ck. SchlieÃŸlich konnte ich ________ richtig schlafen und mich so natÃ¼rlich auch bei der Arbeit nicht konzentrieren. Mein Arzt hat mich ins Krankenhaus zu einigen Untersuchungen ________. Die sind anstrengend gewesen und haben ziemlich lange gedauert. Die Lage ist aber nicht so schlimm. Da ich zu viel bei der Arbeit sitze und dazu noch ein paar Kilo ________ habe, ist meine WirbelsÃ¤ule belastet. Zum GlÃ¼ck muss ich aber nicht operiert werden. Ich gehe jetzt einige Monate lang ________ Behandlung. Einige Behandlungen sind schon ________ mir und sie scheinen wirksam zu sein. Ich hoffe, dass sich mein Zustand auch weiterhin verbessern wird. Dann werde ich bald wieder gesund. FrÃ¼her war ich bei einem Naturheilpraktiker, der ________ auch geraten hat, mich mehr zu bewegen. Ich glaube, es ist hÃ¶chste Zeit, damit anzufangen. So kÃ¶nnte ich wenigstens auch etwas abnehmen, was mir ________ schaden wÃ¼rde. So weit fÃ¼r heute, schreib mir bald.
Herzliche GrÃ¼ÃŸe deine Anna`
          },
          { 
            id:"s5", 
            title:"Sprachbausteine, Teil 2", 
            points:15,
            passageTitle:"Aufgabe: Lesen Sie den Text und entscheiden Sie, welches Wort in welche LÃ¼cke passt. Sie kÃ¶nnen jedes Wort nur einmal verwenden. Nicht alle WÃ¶rter passen in den Text.",
            passage: "",
            questions:[],
            fillBlanks2: [
              {
                id: "31",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "bequem"
              },
              {
                id: "32", 
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "sind"
              },
              {
                id: "33",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "dabei"
              },
              {
                id: "34",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "ist"
              },
              {
                id: "35",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "sollte"
              },
              {
                id: "36",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "under", "wie"],
                correctAnswer: "dass"
              },
              {
                id: "37",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "aller"
              },
              {
                id: "38",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "einem"
              },
              {
                id: "39",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "unter"
              },
              {
                id: "40",
                options: ["bequem", "schnell", "immer", "wird", "dass", "einem", "aller", "sollte", "ist", "sind", "erheblich", "wird", "dabei", "unter", "wie"],
                correctAnswer: "wie"
              }
            ],
            fillText2: `Joggen: Mehr als nur Laufen
Auto, Rolltreppe, Fahrstuhl â€“ das moderne Leben ist ________ geworden. Ein GroÃŸteil der BevÃ¶lkerung verbringt den Tag sitzend. Zum Leidwesen unseres KÃ¶rpers, denn das geht zu Lasten der Gesundheit.
Herz-Kreislauf-Erkrankungen ________ in den westlichen IndustrielÃ¤ndern mittlerweile die Todesursache Nummer Eins. Dennoch: Rund zehn Millionen Menschen in Deutschland joggen, etwa acht Millionen gehen Inline-Skaten oder Rad fahren, jeder Dritte schwimmt. Wer regelmÃ¤ÃŸig, richtig und vor allem in MaÃŸen trainiert, fÃ¶rdert Gesundheit, KÃ¶rper- und Selbstbewusstsein.
Zahlreiche Sportarten bieten einen einfachen und abwechslungsreichen Einstieg auch fÃ¼r UngeÃ¼bte. Vom Klassiker Jogging bis hin zu Walking, Radfahren, Schwimmen, Aerobic, Inline-Skating und Langlauf im Winter. Wichtig ist ________ richtig zu trainieren, den KÃ¶rper nicht zu Ã¼berfordern â€“ vor allem nach einer lÃ¤ngeren Sportpause! Empfehlenswert ist aerobes Herz-Kreislauf-Training. Das bedeutet Ausdauertraining ________ Verbrennung von Sauerstoff. Dreimal in der Woche 30 bis 40 Minuten genÃ¼gen. Dabei ________ der Puls kontrolliert werden. Der Richtwert ist hier 180 minus Lebensalter. Dann wird auch Fett verbrannt, der KÃ¶rper nicht Ã¼berfordert.
________ mehr Menschen den Schritt in ein aktiveres Leben wagen sollten, machen zahlreiche Studien deutlich: Rund 40 Prozent ________ Deutschen bringen zu viel auf die Waage, jeder zehnte ist sogar stark fettleibig â€“ Tendenz steigend. Auch vor Kindern und Jugendlichen macht diese Entwicklung nicht halt.
Oft fehlt die Zeit fÃ¼r regelmÃ¤ÃŸiges Essen, Sport und Entspannung. Der KÃ¶rper quittiert dies meist mit Herz-Kreislauf-Erkrankungen, nicht selten mit (38) Herzinfarkt â€“ auch, und immer hÃ¤ufiger ________ Frauen.
Ausdauersport hingegen wirkt auf Herz, GefÃ¤ÃŸe, Muskeln, KÃ¶rpergewicht, Hormone und Stimmungen. Stress wird wegtrainiert, Krankheiten geheilt und vorgebeugt. Zusammen mit der richtigen ErnÃ¤hrung minimiert sich das Risiko, einen Herzinfarkt oder Schlaganfall zu erleiden, ________ Milch und Milchprodukte, pflanzliche Lebensmittel wie Vollkornprodukte, Obst, GemÃ¼se, Salat, magere Wurst und KÃ¤sesorten unterstÃ¼tzen das richtige Training.`
          }
        ]
      },
      
      hoeren: {
        id: "exam-hÃ¶rverstehen",
        durationSec: 17 * 60,
        sections: [
          { 
            id:"hÃ¶rverstehen1", 
            title:"HÃ¶rverstehen, Teil 1", 
            points:25,
            correctAnswers: { "41": "falsch", "42": "richtig", "43": "richtig", "44": "falsch", "45": "falsch" },
            questions: [
              {
                id: "41",
                text: "Die Wetterlage in den Alpen wird sich in den nÃ¤chsten Tagen verbessern."
              },
              {
                id: "42", 
                text: "Die Fans des FC Neustadt waren von dem Sieg ihrer Mannschaft Ã¼berrascht."
              },
              {
                id: "43",
                text: "Erzieherinnen verlangen eine bessere Bezahlung."
              },
              {
                id: "44",
                text: "Im Berliner Zoo gibt es eine groÃŸe Pandafamilie."
              },
              {
                id: "45",
                text: "Die Zahl der Deutschland-Urlauber ist rÃ¼cklÃ¤ufig."
              }
            ]
          },
          { 
            id:"hÃ¶rverstehen2", 
            title:"HÃ¶rverstehen, Teil 2", 
            points:25,
            correctAnswers: { "46": "richtig", "47": "falsch", "48": "richtig", "49": "richtig", "50": "falsch", "51": "falsch", "52": "falsch", "53": "richtig", "54": "richtig", "55": "falsch" },
            questions: [
              {
                id: "46",
                text: " Julia hatte an einem SchÃ¼leraustausch kein Interesse."
              },
              {
                id: "47",
                text: "Die Lehrer in Julias Schule weigerten sich, mit dem AustauschschÃ¼ler Englisch Zu sprechen."
              },
              {
                id: "48", 
                text: "Frankreich ist als Aufenthaltsland bei Au-pairs nicht sehr gefragt"
              },
              {
                id: "49",
                text: "Jula hatte auch darÃ¼ber nachgedacht,in die Schweiz zu fahren."
              },
              {
                id: "50",
                text: "Julia empfiehlt, mit der Gastfamilie einen Vertrag zu schlieÃŸen."
              },
              {
                id: "51",
                text: "Zu Beginn der Au-pair-Bewegung schickten Familien ihre Kinder zum Sprachunterricht in die Schweiz."
              },
              {
                id: "52",
                text: "Julia ist der Meinung, dass die Vermittlungskosten zu hoch sind."
              },
              {
                id: "53",
                text: "Julia verbrachte mit den Kindern auch Zeit in Paris."
              },
              {
                id: "54",
                text: "Es gab am Anfang Momente, in denen sich Julia der Gastfamilie nicht zugehÃ¶rig fÃ¼hlte."
              },
              {
                id: "55",
                text: "Julia lernt im Sprachkurs mehr FranzÃ¶sisch als durch den Kontakt mit der Gastfamilie"
              }
            ]
          },
          { 
            id:"hÃ¶rverstehen3", 
            title:"HÃ¶rverstehen, Teil 3", 
            points:25,
            correctAnswers: { "56": "richtig", "57": "richtig", "58": "richtig", "59": "falsch", "60": "falsch" },
            questions: [
              {
                id: "56",
                text: "Die Demonstration findet in Frankfurt vor der Alten Oper statt."
              },
              {
                id: "57",
                text: "In der kommenden Saison wird eine Symphonie von Mahler aufgefÃ¼hrt"
              },
              {
                id: "58",
                text: "Die Weltmeisterschaften im Eiskunstlauf finden in der Dortmunder Helmut KÃ¶rnig Halle statt."
              },
              {
                id: "59",
                text: "Die Autobahn A980 ist mit schneeketten befahren."
              },
              {
                id: "60",
                text: "FÃ¼r die Vermittlung einer Mitfahrgelegenheit E- Mail erhebt 'fahre mit keine GebÃ¼hren"
              }
            ]
          }
        ]
      },
      
      schreiben: {
        id: "exam-schreiben-001",
        durationSec: 30 * 60,
        sections: [
          { 
            id:"s1", 
            title:"Schreiben, Teil 1", 
            points:45,
            passageTitle:"Aufgabe: Schreiben Sie eine E-Mail",
            passage: "",
            writingTask: {
              prompt: `Engagement fÃ¼r Jugendliche

Wie soll es nach dem Schulabschluss weitergehen? 
Was wÃ¤re der ideale Beruf? 
Wie findet man einen Ausbildungsplatz und wie bewirbt man sich? 

Wollen Sie Jugendlichen dabei helfen, die richtigen Antworten auf diese Fragen zu finden 
und so ihre Zukunftsperspektiven zu verbessern? 

Dann werden Sie Bildungspatin/Bildungspate! 

Wir suchen Bildungspatinnen und Bildungspaten, die SchÃ¼lerinnen und SchÃ¼ler ab 14 Jahren 
unterstÃ¼tzen kÃ¶nnen: 
- bei Problemen mit dem Schulabschluss, 
- bei der Suche nach einem Ausbildungsplatz, 
- beim Bewerbungsprozess, 
- beim Berufseinstieg. 

Sie helfen einer SchÃ¼lerin oder einem SchÃ¼ler dabei, den Ãœbergang zwischen Schule und Beruf 
zu meistern. 

In drei Wochenendseminaren bereiten wir Sie auf diese spannende und anspruchsvolle 
Aufgabe vor. 

Sie erhalten auÃŸerdem regelmÃ¤ÃŸig Beratung und UnterstÃ¼tzung durch unser erfahrenes Team. 

Setzen Sie Ihre Zeit, Ihr Wissen und Ihr Engagement ein, um das Leben eines Jugendlichen 
positiv zu beeinflussen! 

Mehr Informationen erhalten Sie unter: www.bildungspaten-fÃ¼r-jugendliche.net 

Adresse: 
Bildungspaten fÃ¼r Jugendliche e. V. 
Hamburger Str. 112 
60824 Frankfurt am Main`,
              requirements: [
                "Beschreiben Sie, welche Erfahrungen Sie bei Ihrem Engagement in dem Verein gemacht haben.",
                "ErklÃ¤ren Sie, warum Sie Jugendlichen helfen wollten.",
                "Beschreiben Sie, wie Sie sich die Mitarbeit im Verein vorgestellt haben.",
                "Machen Sie VerbesserungsvorschlÃ¤ge."
              ],
              wordCount: 0
            }
          }
        ]
      }
    };

    // ===== LESEN PAGE FUNCTIONALITY =====
    function initLesenPage() {
      const exam = EXAM_DATA.lesen;
      
      /* ===== State & DOM refs ===== */
      let state = { 
        sectionIndex: 0, 
        questionIndex: 0, 
        answers: {}, 
        marked: {}, 
        remaining: exam.durationSec,
        showResults: false,
        timerStarted: false,
        timerInterval: null
      };
      const topTiles = document.getElementById('topTiles-lesen');
      const passageTitleEl = document.getElementById('passageTitle-lesen');
      const passageContentEl = document.getElementById('passageContent-lesen');
      const sectionNameEl = document.getElementById('sectionName-lesen');
      const questionTitleEl = document.getElementById('questionTitle-lesen');
      const questionBodyEl = document.getElementById('questionBody-lesen');
      const headingsBankContainer = document.getElementById('headingsBankContainer-lesen');
      const timerEl = document.getElementById('timer-lesen');
      const statusText = document.getElementById('statusText-lesen');
      const resultBtn = document.getElementById('resultBtn-lesen');
      const resetBtn = document.getElementById('resetBtn-lesen');
      const resetSectionBtn = document.getElementById('resetSectionBtn-lesen');

      /* ===== Timer Functions ===== */
      function startTimer(){
        if(state.timerInterval) {
          clearInterval(state.timerInterval);
        }
        
        state.timerStarted = true;
        state.timerInterval = setInterval(()=>{
          if(state.remaining <= 0){
            clearInterval(state.timerInterval);
            timerEl.textContent = 'Zeit abgelaufen';
            return;
          }
          state.remaining--;
          updateTimerDisplay();
        }, 1000);
      }

      function resetTimer(){
        if(state.timerInterval) {
          clearInterval(state.timerInterval);
        }
        state.remaining = exam.durationSec;
        state.timerStarted = false;
        updateTimerDisplay();
        startTimer();
      }

      function updateTimerDisplay(){
        const min = Math.floor(state.remaining / 60);
        const sec = state.remaining % 60;
        timerEl.textContent = `Verbleibende Zeit: ${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
      }

      /* ===== Reset Section Function ===== */
      function resetCurrentSection() {
        const currentSection = exam.sections[state.sectionIndex];
        
        if (confirm(`MÃ¶chten Sie wirklich den Teil "${currentSection.title}" zurÃ¼cksetzen? Alle Antworten in diesem Teil werden gelÃ¶scht.`)) {
          if (currentSection.id === 's1') {
            currentSection.texts.forEach(text => {
              delete state.answers[text.id];
            });
          } else if (currentSection.id === 's2') {
            currentSection.questions.forEach(question => {
              delete state.answers[question.id];
            });
          } else if (currentSection.id === 's3') {
            currentSection.situations.forEach(situation => {
              delete state.answers[situation.id];
            });
          } else if (currentSection.id === 's4') {
            currentSection.fillBlanks.forEach(blank => {
              delete state.answers[blank.id];
            });
          } else if (currentSection.id === 's5') {
            currentSection.fillBlanks2.forEach(blank => {
              delete state.answers[blank.id];
            });
          }
          
          renderAll();
        }
      }

      /* ===== Render ===== */
      function renderTopTiles(){ 
        topTiles.innerHTML=''; 
        exam.sections.forEach((sec,idx)=>{ 
          const div=document.createElement('div'); 
          div.className='tile'+(idx===state.sectionIndex?' active':'')+(isSectionDone(sec)?' done':''); 
          div.innerHTML=`<div>${sec.title}</div><div class="points">${sec.points} P</div>`; 
          div.onclick=()=>{state.sectionIndex=idx; state.questionIndex=0; state.showResults=false; renderAll();}; 
          topTiles.appendChild(div); 
        }); 
      }

      function isSectionDone(section){
        if(section.id==='s1') return section.texts.every(t=>state.answers[t.id]);
        if(section.id==='s2') return section.questions.every(q=>state.answers[q.id]);
        if(section.id==='s3') return section.situations.every(h=>state.answers[h.id] || state.answers[h.id] === 'X');
        if(section.id==='s4') return section.fillBlanks.every(b=>state.answers[b.id]);
        if(section.id==='s5') return section.fillBlanks2.every(b=>state.answers[b.id]);
        return false;
      }

      function renderAll(){
        renderTopTiles();
        const section = exam.sections[state.sectionIndex];
        sectionNameEl.textContent = section.title;
        passageTitleEl.textContent = section.passageTitle;
        
        resetSectionBtn.style.display = 'block';
        
        if(state.showResults){
          renderResults();
          return;
        }
        
        if(section.id === 's1'){
          renderPart1();
        } else if(section.id === 's2'){
          renderPart2();
        } else if(section.id === 's3'){
          renderPart3();
        } else if(section.id === 's4'){
          renderSprachbausteine1();
        } else if(section.id === 's5'){
          renderSprachbausteine2();
        }
      }

      function renderPart1(){
        const section = exam.sections[state.sectionIndex];
        
        let textsHTML = `<div class="instructions">Ziehen Sie die passenden Ãœberschriften auf die Texte. Sie kÃ¶nnen jede Ãœberschrift nur einmal verwenden.</div>`;
        
        section.texts.forEach((text, idx) => {
          const letter = String.fromCharCode(97 + idx);
          const selectedHeading = state.answers[text.id];
          
          textsHTML += `
            <div class="text-container">
              <div class="text-title">Text ${letter.toUpperCase()}</div>
              <div class="text-content">${text.content}</div>
              <div class="title-slot ${selectedHeading ? 'has-title' : ''}" data-text-id="${text.id}">
                ${selectedHeading ? getHeadingTextById(selectedHeading) : 'Ziehen Sie hier eine Ãœberschrift hin'}
              </div>
            </div>
          `;
        });
        
        passageContentEl.innerHTML = textsHTML;
        
        let headingsHTML = `<div class="headings-bank">`;
        section.headings.forEach(heading => {
          const isUsed = section.texts.some(text => state.answers[text.id] === heading.id);
          
          headingsHTML += `
            <div class="heading-item ${isUsed ? 'used' : ''}" draggable="${!isUsed}" data-heading-id="${heading.id}">
              ${heading.id}) ${heading.text}
            </div>
          `;
        });
        
        headingsHTML += `</div>`;
        
        headingsBankContainer.innerHTML = headingsHTML;
        
        setupDragAndDrop();
        
        questionBodyEl.innerHTML = '';
        questionTitleEl.textContent = '';
      }

      function getHeadingTextById(id){
        const section = exam.sections[state.sectionIndex];
        const heading = section.headings.find(h => h.id === id);
        return heading ? `${heading.id}) ${heading.text}` : '';
      }

      function setupDragAndDrop(){
        const headingItems = document.querySelectorAll('.heading-item:not(.used)');
        const titleSlots = document.querySelectorAll('.title-slot');
        
        headingItems.forEach(item => {
          item.addEventListener('dragstart', (e) => {
            e.dataTransfer.setData('text/plain', e.target.dataset.headingId);
          });
        });
        
        titleSlots.forEach(slot => {
          slot.addEventListener('dragover', (e) => {
            e.preventDefault();
            slot.style.background = '#e8f4ff';
          });
          
          slot.addEventListener('dragleave', (e) => {
            slot.style.background = slot.classList.contains('has-title') ? '#e8fbe9' : '#f8fbff';
          });
          
          slot.addEventListener('drop', (e) => {
            e.preventDefault();
            const headingId = e.dataTransfer.getData('text/plain');
            const textId = slot.dataset.textId;
            
            Object.keys(state.answers).forEach(key => {
              if(state.answers[key] === headingId) {
                delete state.answers[key];
              }
            });
            
            state.answers[textId] = headingId;
            renderAll();
          });
        });
      }

      function renderPart2(){
        const section = exam.sections[state.sectionIndex];
        
        passageContentEl.innerHTML = `<div class="passage">${section.passage}</div>`;
        
        let questionsHTML = `<div class="all-questions">`;
        
        section.questions.forEach((question, idx) => {
          const questionNumber = idx + 1;
          const userAnswer = state.answers[question.id];
          
          questionsHTML += `
            <div class="question-block">
              <div class="question-text">${questionNumber}. ${question.text}</div>
              <div class="options">
                ${question.options.map(opt => `
                  <div class="option ${userAnswer === opt.id ? 'selected' : ''}" 
                       onclick="window.lesenApp.selectOption('${question.id}', '${opt.id}')">
                    <div class="radio"></div>
                    <div>${opt.text}</div>
                  </div>
                `).join('')}
              </div>
            </div>
          `;
        });
        
        questionsHTML += `</div>`;
        
        questionBodyEl.innerHTML = questionsHTML;
        questionTitleEl.textContent = '';
        headingsBankContainer.innerHTML = '';
      }

      function renderPart3(){
        const section = exam.sections[state.sectionIndex];
        
        let textsHTML = `
          <div class="instructions">Ziehen Sie die passenden Situationen auf die Texte. Sie kÃ¶nnen jede Situation nur einmal verwenden. Manchmal passt keine Situation.</div>
          <div class="texts-list">
            <h3>Texte (A-L)</h3>
        `;
        
        section.texts.forEach(text => {
          const userAnswer = Object.keys(state.answers).find(key => state.answers[key] === text.id);
          const selectedSituation = userAnswer ? section.situations.find(h => h.id === userAnswer) : null;
          
          textsHTML += `
            <div class="text-item" data-text-id="${text.id}">
              <div class="text-letter">${text.id})</div>
              <div class="text-content">${text.text}</div>
              <div class="title-slot ${userAnswer ? 'has-title' : ''} ${userAnswer === 'X' ? 'has-x' : ''}" data-text-id="${text.id}">
                ${selectedSituation ? selectedSituation.text : (userAnswer === 'X' ? 'X - Keine passende Situation' : 'Ziehen Sie hier eine Situation hin')}
              </div>
            </div>
          `;
        });
        
        textsHTML += `</div>`;
        
        passageContentEl.innerHTML = textsHTML;
        
        let situationsHTML = `
          <div class="situations-list">
            <h3>Situationen (11-20)</h3>
        `;
        
        section.situations.forEach((situation, idx) => {
          const situationNumber = parseInt(situation.id);
          const isUsed = state.answers[situation.id];
          const isX = state.answers[situation.id] === 'X';
          
          situationsHTML += `
            <div class="situation-item ${isUsed ? 'used' : ''}" draggable="${!isUsed}" data-situation-id="${situation.id}">
              <div class="situation-number">${situationNumber}.</div>
              <div class="situation-text">${situation.text}</div>
              ${!isUsed ? `<button class="exam-btn no-match ${isX ? 'selected' : ''}" onclick="window.lesenApp.markNoMatch('${situation.id}')">X - Kein passender Text</button>` : ''}
            </div>
          `;
        });
        
        situationsHTML += `</div>`;
        
        questionBodyEl.innerHTML = situationsHTML;
        questionTitleEl.textContent = '';
        headingsBankContainer.innerHTML = '';
        
        setupPart3DragAndDrop();
      }

      function markNoMatch(situationId) {
        Object.keys(state.answers).forEach(key => {
          if(state.answers[key] === situationId) {
            delete state.answers[key];
          }
        });
        
        state.answers[situationId] = 'X';
        renderAll();
      }

      function setupPart3DragAndDrop(){
        const situationItems = document.querySelectorAll('.situation-item:not(.used)');
        const textSlots = document.querySelectorAll('.text-item .title-slot');
        
        situationItems.forEach(item => {
          item.addEventListener('dragstart', (e) => {
            e.dataTransfer.setData('text/plain', e.target.dataset.situationId);
          });
        });
        
        textSlots.forEach(slot => {
          slot.addEventListener('dragover', (e) => {
            e.preventDefault();
            slot.style.background = '#e8f4ff';
          });
          
          slot.addEventListener('dragleave', (e) => {
            const hasTitle = slot.classList.contains('has-title');
            const hasX = slot.classList.contains('has-x');
            slot.style.background = hasTitle ? '#e8fbe9' : (hasX ? '#f8d7da' : '#f8fbff');
          });
          
          slot.addEventListener('drop', (e) => {
            e.preventDefault();
            const situationId = e.dataTransfer.getData('text/plain');
            const textId = slot.dataset.textId;
            
            Object.keys(state.answers).forEach(key => {
              if(state.answers[key] === situationId) {
                delete state.answers[key];
              }
            });
            
            state.answers[situationId] = textId;
            renderAll();
          });
        });
      }

      function renderSprachbausteine1(){
        const section = exam.sections[state.sectionIndex];
        
        let textWithBlanks = section.fillText;
        
        const blankPlaceholders = [];
        section.fillBlanks.forEach(blank => {
          blankPlaceholders.push(`BLANK_${blank.id}`);
        });
        
        let tempText = textWithBlanks;
        blankPlaceholders.forEach((placeholder, index) => {
          tempText = tempText.replace('________', placeholder);
        });
        
        section.fillBlanks.forEach(blank => {
          const userAnswer = state.answers[blank.id];
          const displayText = userAnswer ? userAnswer : '________';
          tempText = tempText.replace(`BLANK_${blank.id}`, `<span class="blank-word ${userAnswer ? 'has-answer' : ''}" data-blank-id="${blank.id}">${displayText}</span>`);
        });
        
        passageContentEl.innerHTML = `
          <div class="instructions">Klicken Sie auf jede LÃ¼cke und wÃ¤hlen Sie das passende Wort aus. Sie kÃ¶nnen die LÃ¼cken in beliebiger Reihenfolge ausfÃ¼llen.</div>
          <div class="fill-blank-container">${tempText}</div>
        `;
        
        document.querySelectorAll('.blank-word').forEach(blank => {
          blank.addEventListener('click', (e) => {
            showOptionsPopup(e.target);
          });
        });
        
        let optionsHTML = `<div class="horizontal-options" style="gap: 8px;">`;
        
        section.fillBlanks.forEach(blank => {
          const userAnswer = state.answers[blank.id];
          
          optionsHTML += `
            <div class="option-row" style="padding: 8px; margin-bottom: 5px;">
              <div class="option-number">${blank.id}</div>
              <div class="option-buttons">
                ${blank.options.map(opt => `
                  <div class="option-btn ${userAnswer === opt ? 'selected' : ''}" 
                       onclick="window.lesenApp.selectSprachbausteine1('${blank.id}', '${opt}')" 
                       style="padding: 6px 12px; font-size: 12px;">
                    ${opt}
                  </div>
                `).join('')}
              </div>
            </div>
          `;
        });
        
        optionsHTML += `</div>`;
        
        questionBodyEl.innerHTML = optionsHTML;
        questionTitleEl.textContent = '';
        headingsBankContainer.innerHTML = '';
      }

      function showOptionsPopup(blankElement){
        const existingPopup = document.querySelector('.options-popup');
        if(existingPopup) {
          existingPopup.remove();
        }
        
        const blankId = blankElement.getAttribute('data-blank-id');
        const section = exam.sections.find(s => s.id === 's4');
        const blank = section.fillBlanks.find(b => b.id === blankId);
        
        if(!blank) return;
        
        const popup = document.createElement('div');
        popup.className = 'options-popup';
        
        blank.options.forEach(opt => {
          const optionItem = document.createElement('div');
          optionItem.className = 'option-item';
          optionItem.textContent = opt;
          optionItem.onclick = () => {
            selectSprachbausteine1(blankId, opt);
            popup.remove();
          };
          popup.appendChild(optionItem);
        });
        
        blankElement.appendChild(popup);
      }

      function selectSprachbausteine1(blankId, answer){
        state.answers[blankId] = answer;
        renderAll();
      }

      function renderSprachbausteine2(){
        const section = exam.sections[state.sectionIndex];
        
        let textWithBlanks = section.fillText2;
        
        section.fillBlanks2.forEach(blank => {
          const userAnswer = state.answers[blank.id];
          const displayText = userAnswer ? userAnswer : '________';
          textWithBlanks = textWithBlanks.replace('________', `<span class="blank-slot ${userAnswer ? 'has-answer' : ''}" data-blank-id="${blank.id}">${displayText}</span>`);
        });
        
        passageContentEl.innerHTML = `
          <div class="instructions">Klicken Sie auf jede LÃ¼cke und wÃ¤hlen Sie das passende Wort aus. Sie kÃ¶nnen jedes Wort nur einmal verwenden.</div>
          <div class="fill-blank-container">${textWithBlanks}</div>
        `;
        
        document.querySelectorAll('.blank-slot').forEach(slot => {
          slot.addEventListener('click', (e) => {
            showSprachbausteine2Options(e.target);
          });
        });
        
        let wordBankHTML = `<div class="word-bank-vertical" style="gap: 8px;">`;
        
        const usedWords = Object.values(state.answers);
        
        section.fillBlanks2[0].options.forEach(word => {
          const isUsed = usedWords.includes(word);
          
          wordBankHTML += `
            <div class="bank-word-vertical ${isUsed ? 'used' : ''}" 
                 draggable="${!isUsed}" 
                 data-word="${word}"
                 onclick="${!isUsed ? `window.lesenApp.selectSprachbausteine2FromBank('${word}')` : ''}">
              ${word}
            </div>
          `;
        });
        
        wordBankHTML += `</div>`;
        
        questionBodyEl.innerHTML = wordBankHTML;
        questionTitleEl.textContent = '';
        headingsBankContainer.innerHTML = '';
        
        setupSprachbausteine2DragAndDrop();
      }

      function showSprachbausteine2Options(slotElement){
        const existingPopup = document.querySelector('.options-popup');
        if(existingPopup) {
          existingPopup.remove();
        }
        
        const blankId = slotElement.getAttribute('data-blank-id');
        const section = exam.sections.find(s => s.id === 's5');
        
        const usedWords = Object.values(state.answers);
        const availableWords = section.fillBlanks2[0].options.filter(word => !usedWords.includes(word));
        
        if(availableWords.length === 0) return;
        
        const popup = document.createElement('div');
        popup.className = 'options-popup';
        
        availableWords.forEach(word => {
          const optionItem = document.createElement('div');
          optionItem.className = 'option-item';
          optionItem.textContent = word;
          optionItem.onclick = () => {
            selectSprachbausteine2(blankId, word);
            popup.remove();
          };
          popup.appendChild(optionItem);
        });
        
        slotElement.appendChild(popup);
      }

      function setupSprachbausteine2DragAndDrop(){
        const wordItems = document.querySelectorAll('.bank-word-vertical:not(.used)');
        const blankSlots = document.querySelectorAll('.blank-slot');
        
        wordItems.forEach(item => {
          item.addEventListener('dragstart', (e) => {
            e.dataTransfer.setData('text/plain', e.target.dataset.word);
          });
        });
        
        blankSlots.forEach(slot => {
          slot.addEventListener('dragover', (e) => {
            e.preventDefault();
            slot.style.background = '#e8f4ff';
          });
          
          slot.addEventListener('dragleave', (e) => {
            slot.style.background = slot.classList.contains('has-answer') ? '#e8fbe9' : '#f8fbff';
          });
          
          slot.addEventListener('drop', (e) => {
            e.preventDefault();
            const word = e.dataTransfer.getData('text/plain');
            const blankId = slot.dataset.blankId;
            
            selectSprachbausteine2(blankId, word);
          });
        });
      }

      function selectSprachbausteine2FromBank(word){
        const section = exam.sections.find(s => s.id === 's5');
        const emptyBlank = section.fillBlanks2.find(blank => !state.answers[blank.id]);
        
        if(emptyBlank) {
          selectSprachbausteine2(emptyBlank.id, word);
        }
      }

      function selectSprachbausteine2(blankId, answer){
        Object.keys(state.answers).forEach(key => {
          if(state.answers[key] === answer) {
            delete state.answers[key];
          }
        });
        
        state.answers[blankId] = answer;
        renderAll();
      }

      function selectOption(questionId, optionId){
        state.answers[questionId] = optionId;
        renderAll();
      }

      function renderResults(){
        let resultsHTML = `<h2>Ergebnisse</h2>`;
        let totalCorrect = 0;
        let totalQuestions = 0;
        
        exam.sections.forEach(section => {
          resultsHTML += `<div class="result-item"><h3>${section.title}</h3>`;
          
          if(section.id === 's1'){
            section.texts.forEach(text => {
              totalQuestions++;
              const userAnswer = state.answers[text.id];
              const isCorrect = userAnswer === text.correctAnswer;
              if(isCorrect) totalCorrect++;
              
              resultsHTML += `
                <div>Text ${text.id}: ${userAnswer || 'Nicht beantwortet'} 
                ${userAnswer ? `<span class="${isCorrect ? 'result-correct' : 'result-incorrect'}">${isCorrect ? 'âœ“' : 'âœ—'}</span>` : ''}
                </div>
              `;
            });
          } else if(section.id === 's2'){
            section.questions.forEach(question => {
              totalQuestions++;
              const userAnswer = state.answers[question.id];
              const isCorrect = userAnswer === question.correctAnswer;
              if(isCorrect) totalCorrect++;
              
              resultsHTML += `
                <div>${question.text}: ${userAnswer || 'Nicht beantwortet'} 
                ${userAnswer ? `<span class="${isCorrect ? 'result-correct' : 'result-incorrect'}">${isCorrect ? 'âœ“' : 'âœ—'}</span>` : ''}
                </div>
              `;
            });
          } else if(section.id === 's3'){
            section.situations.forEach(situation => {
              totalQuestions++;
              const userAnswer = state.answers[situation.id];
              const correctText = section.texts.find(t => t.correctAnswer === situation.id);
              const isCorrect = userAnswer === (correctText ? correctText.id : null);
              if(isCorrect) totalCorrect++;
              
              resultsHTML += `
                <div>Situation ${situation.id}: ${userAnswer || 'Nicht beantwortet'} 
                ${userAnswer ? `<span class="${isCorrect ? 'result-correct' : 'result-incorrect'}">${isCorrect ? 'âœ“' : 'âœ—'}</span>` : ''}
                </div>
              `;
            });
          } else if(section.id === 's4'){
            section.fillBlanks.forEach(blank => {
              totalQuestions++;
              const userAnswer = state.answers[blank.id];
              const isCorrect = userAnswer === blank.correctAnswer;
              if(isCorrect) totalCorrect++;
              
              resultsHTML += `
                <div>LÃ¼cke ${blank.id}: ${userAnswer || 'Nicht beantwortet'} 
                ${userAnswer ? `<span class="${isCorrect ? 'result-correct' : 'result-incorrect'}">${isCorrect ? 'âœ“' : 'âœ—'}</span>` : ''}
                </div>
              `;
            });
          } else if(section.id === 's5'){
            section.fillBlanks2.forEach(blank => {
              totalQuestions++;
              const userAnswer = state.answers[blank.id];
              const isCorrect = userAnswer === blank.correctAnswer;
              if(isCorrect) totalCorrect++;
              
              resultsHTML += `
                <div>LÃ¼cke ${blank.id}: ${userAnswer || 'Nicht beantwortet'} 
                ${userAnswer ? `<span class="${isCorrect ? 'result-correct' : 'result-incorrect'}">${isCorrect ? 'âœ“' : 'âœ—'}</span>` : ''}
                </div>
              `;
            });
          }
          
          resultsHTML += `</div>`;
        });
        
        const percentage = totalQuestions > 0 ? Math.round((totalCorrect / totalQuestions) * 100) : 0;
        resultsHTML += `<div class="result-item"><h3>Gesamtergebnis: ${totalCorrect}/${totalQuestions} (${percentage}%)</h3></div>`;
        
        passageContentEl.innerHTML = resultsHTML;
        questionBodyEl.innerHTML = '';
        sectionNameEl.textContent = 'Ergebnisse';
        questionTitleEl.textContent = '';
      }

      /* ===== Event Listeners ===== */
      document.getElementById('prevBtn-lesen').addEventListener('click', ()=>{
        if(state.sectionIndex > 0){
          state.sectionIndex--;
          state.questionIndex = 0;
          renderAll();
        }
      });

      document.getElementById('nextBtn-lesen').addEventListener('click', ()=>{
        if(state.sectionIndex < exam.sections.length - 1){
          state.sectionIndex++;
          state.questionIndex = 0;
          renderAll();
        } else {
          showPage('hoeren-page');
        }
      });

      resultBtn.addEventListener('click', ()=>{
        state.showResults = !state.showResults;
        renderAll();
      });

      resetBtn.addEventListener('click', ()=>{
        if(confirm('MÃ¶chten Sie wirklich von neu beginnen? Alle Antworten werden gelÃ¶scht.')){
          state.answers = {};
          state.marked = {};
          state.showResults = false;
          resetTimer();
          renderAll();
        }
      });

      resetSectionBtn.addEventListener('click', resetCurrentSection);

      document.getElementById('saveBtn-lesen').addEventListener('click', ()=>{
        statusText.textContent = 'Gespeichert';
        setTimeout(()=>{statusText.textContent = 'Nicht gespeichert'}, 2000);
      });

      document.getElementById('submitBtn-lesen').addEventListener('click', ()=>{
        if(confirm('MÃ¶chten Sie die PrÃ¼fung wirklich abgeben?')){
          state.showResults = true;
          renderAll();
        }
      });

      document.getElementById('nextBtn-lesen').addEventListener('click', ()=>{
        showPage('hoeren-page');
      });

      /* ===== Initialize ===== */
      updateTimerDisplay();
      renderAll();
      startTimer();
      
      window._lesenState = state;
      window.lesenApp = {
        selectOption,
        markNoMatch,
        selectSprachbausteine1,
        selectSprachbausteine2,
        selectSprachbausteine2FromBank
      };
    }

    // ===== HÃ–REN PAGE FUNCTIONALITY =====
    function initHoerenPage() {
      const exam = EXAM_DATA.hoeren;

      let state = { 
        sectionIndex: 0, 
        answers: {}, 
        remaining: exam.durationSec,
        showResults: false,
        timerStarted: false,
        timerInterval: null
      };
      
      const topTiles = document.getElementById('topTiles-hoeren');
      const contentContainer = document.getElementById('contentContainer-hoeren');
      const timerEl = document.getElementById('timer-hoeren');
      const statusText = document.getElementById('statusText-hoeren');

      function startTimer() {
        if (state.timerInterval) {
          clearInterval(state.timerInterval);
        }
        
        state.timerStarted = true;
        state.timerInterval = setInterval(() => {
          if (state.remaining <= 0) {
            clearInterval(state.timerInterval);
            timerEl.textContent = 'Zeit abgelaufen';
            return;
          }
          state.remaining--;
          updateTimerDisplay();
        }, 1000);
      }

      function resetTimer() {
        if (state.timerInterval) {
          clearInterval(state.timerInterval);
        }
        state.remaining = exam.durationSec;
        state.timerStarted = false;
        updateTimerDisplay();
        startTimer();
      }

      function updateTimerDisplay() {
        const min = Math.floor(state.remaining / 60);
        const sec = state.remaining % 60;
        timerEl.textContent = `Verbleibende Zeit: ${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
      }

      function renderTopTiles() { 
        topTiles.innerHTML = ''; 
        exam.sections.forEach((sec, idx) => { 
          const div = document.createElement('div'); 
          div.className = 'tile' + (idx === state.sectionIndex ? ' active' : '') + (isSectionDone(sec) ? ' done' : ''); 
          div.innerHTML = `<div>${sec.title}</div><div class="points">${sec.points} P</div>`; 
          div.onclick = () => { state.sectionIndex = idx; state.showResults = false; renderAll(); }; 
          topTiles.appendChild(div); 
        }); 
      }

      function isSectionDone(section) {
        const answers = state.answers[section.id];
        if (!answers) return false;
        
        const answeredQuestions = Object.keys(answers).length;
        const totalQuestions = section.questions.length;
        
        return answeredQuestions === totalQuestions;
      }

      function renderAll() {
        renderTopTiles();
        
        if (state.showResults) {
          renderResults();
          return;
        }
        
        renderListeningSection();
      }

      function renderListeningSection() {
        const section = exam.sections[state.sectionIndex];
        const currentAnswers = state.answers[section.id] || {};
        
        let contentHTML = `
          <div class="panel-title">${section.title}</div>
          <div class="instructions">
            Sie hÃ¶ren die Nachrichten. Entscheiden Sie beim HÃ¶ren, ob die Aussagen richtig oder falsch sind. 
            Sie hÃ¶ren die Nachrichten nur einmal. Sie haben jetzt 30 Sekunden, um die Aussagen zu lesen.
          </div>
          
          <div class="listening-task">
            <table class="true-false-table">
              <thead>
                <tr>
                  <th style="width: 10%">Nr.</th>
                  <th style="width: 60%">Aussage</th>
                  <th style="width: 30%">Ihre Antwort</th>
                </tr>
              </thead>
              <tbody>
        `;
        
        section.questions.forEach((question, index) => {
          const currentAnswer = currentAnswers[question.id] || '';
          contentHTML += `
            <tr>
              <td><strong>${question.id}</strong></td>
              <td class="question-text">${question.text}</td>
              <td>
                <div class="answer-options">
                  <label class="answer-option">
                    <input 
                      type="radio" 
                      name="q${section.id}_${question.id}" 
                      value="richtig" 
                      ${currentAnswer === 'richtig' ? 'checked' : ''}
                      onchange="window.hoerenApp.updateListeningAnswer('${section.id}', '${question.id}', this.value)"
                    >
                    Richtig
                  </label>
                  <label class="answer-option">
                    <input 
                      type="radio" 
                      name="q${section.id}_${question.id}" 
                      value="falsch" 
                      ${currentAnswer === 'falsch' ? 'checked' : ''}
                      onchange="window.hoerenApp.updateListeningAnswer('${section.id}', '${question.id}', this.value)"
                    >
                    Falsch
                  </label>
                </div>
              </td>
            </tr>
          `;
        });
        
        contentHTML += `
              </tbody>
            </table>
          </div>
        `;
        
        contentContainer.innerHTML = contentHTML;
      }

      function updateListeningAnswer(sectionId, questionId, answer) {
        if (!state.answers[sectionId]) {
          state.answers[sectionId] = {};
        }
        state.answers[sectionId][questionId] = answer;
        
        renderTopTiles();
      }

      function renderResults() {
        let resultsHTML = `<div class="panel-title">Ergebnisse - HÃ¶rverstehen</div>`;
        
        exam.sections.forEach(section => {
          const userAnswers = state.answers[section.id] || {};
          let correctCount = 0;
          
          resultsHTML += `
            <div class="listening-task">
              <h3>${section.title} (${section.points} Punkte)</h3>
              <table class="true-false-table">
                <thead>
                  <tr>
                    <th style="width: 10%">Nr.</th>
                    <th style="width: 50%">Aussage</th>
                    <th style="width: 15%">Ihre Antwort</th>
                    <th style="width: 15%">Richtige Antwort</th>
                    <th style="width: 10%">Punkte</th>
                  </tr>
                </thead>
                <tbody>
          `;
          
          section.questions.forEach((question) => {
            const userAnswer = userAnswers[question.id] || '-';
            const correctAnswer = section.correctAnswers[question.id];
            const gotCorrect = userAnswer === correctAnswer;
            const points = gotCorrect ? "1" : "0";
            
            if (gotCorrect) correctCount++;
            
            const rowClass = gotCorrect ? 'correct-answer' : 'incorrect-answer';
            
            resultsHTML += `
              <tr class="${rowClass}">
                <td><strong>${question.id}</strong></td>
                <td class="question-text">${question.text}</td>
                <td>${userAnswer}</td>
                <td>${correctAnswer}</td>
                <td><strong>${points}</strong></td>
              </tr>
            `;
          });
          
          const totalPoints = Math.round((correctCount / section.questions.length) * section.points);
          
          resultsHTML += `
                </tbody>
              </table>
              <div style="margin-top: 15px; padding: 15px; background: #e3f2fd; border-radius: 6px;">
                <strong>Erreichte Punkte: ${correctCount}/${section.questions.length} richtig = ${totalPoints}/${section.points} Punkten</strong>
              </div>
            </div>
          `;
        });
        
        contentContainer.innerHTML = resultsHTML;
      }

      document.getElementById('prevBtn-hoeren').addEventListener('click', () => {
        if (state.sectionIndex > 0) {
          state.sectionIndex--;
          state.showResults = false;
          renderAll();
        }
      });

      document.getElementById('nextBtn-hoeren').addEventListener('click', () => {
        if (state.sectionIndex < exam.sections.length - 1) {
          state.sectionIndex++;
          state.showResults = false;
          renderAll();
        } else {
          showPage('schreiben-page');
        }
      });

      document.getElementById('resultBtn-hoeren').addEventListener('click', () => {
        state.showResults = !state.showResults;
        renderAll();
      });

      document.getElementById('resetBtn-hoeren').addEventListener('click', () => {
        if (confirm('MÃ¶chten Sie wirklich von neu beginnen? Alle Antworten werden gelÃ¶scht.')) {
          state.answers = {};
          state.showResults = false;
          resetTimer();
          renderAll();
        }
      });

      document.getElementById('saveBtn-hoeren').addEventListener('click', () => {
        statusText.textContent = 'Gespeichert';
        setTimeout(() => { statusText.textContent = 'Nicht gespeichert' }, 2000);
      });

      document.getElementById('submitBtn-hoeren').addEventListener('click', () => {
        if (confirm('MÃ¶chten Sie die PrÃ¼fung wirklich abgeben?')) {
          state.showResults = true;
          renderAll();
        }
      });

      document.getElementById('nextBtn-hoeren').addEventListener('click', () => {
        showPage('schreiben-page');
      });

      updateTimerDisplay();
      renderAll();
      startTimer();
      
      window._hoerenState = state;
      window.hoerenApp = {
        updateListeningAnswer
      };
    }

    // ===== SCHREIBEN PAGE FUNCTIONALITY =====
    function initSchreibenPage() {
      const exam = EXAM_DATA.schreiben;

      let state = { 
        sectionIndex: 0, 
        answers: {}, 
        remaining: exam.durationSec,
        showResults: false,
        timerStarted: false,
        timerInterval: null
      };
      
      const topTiles = document.getElementById('topTiles-schreiben');
      const passageTitleEl = document.getElementById('passageTitle-schreiben');
      const passageContentEl = document.getElementById('passageContent-schreiben');
      const writingContainer = document.getElementById('writingContainer-schreiben');
      const timerEl = document.getElementById('timer-schreiben');
      const statusText = document.getElementById('statusText-schreiben');

      function startTimer() {
        if (state.timerInterval) {
          clearInterval(state.timerInterval);
        }
        
        state.timerStarted = true;
        state.timerInterval = setInterval(() => {
          if (state.remaining <= 0) {
            clearInterval(state.timerInterval);
            timerEl.textContent = 'Zeit abgelaufen';
            return;
          }
          state.remaining--;
          updateTimerDisplay();
        }, 1000);
      }

      function resetTimer() {
        if (state.timerInterval) {
          clearInterval(state.timerInterval);
        }
        state.remaining = exam.durationSec;
        state.timerStarted = false;
        updateTimerDisplay();
        startTimer();
      }

      function updateTimerDisplay() {
        const min = Math.floor(state.remaining / 60);
        const sec = state.remaining % 60;
        timerEl.textContent = `Verbleibende Zeit: ${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
      }

      function renderTopTiles() { 
        topTiles.innerHTML = ''; 
        exam.sections.forEach((sec, idx) => { 
          const div = document.createElement('div'); 
          div.className = 'tile' + (idx === state.sectionIndex ? ' active' : '') + (isSectionDone(sec) ? ' done' : ''); 
          div.innerHTML = `<div>${sec.title}</div><div class="points">${sec.points} P</div>`; 
          div.onclick = () => { state.sectionIndex = idx; state.showResults = false; renderAll(); }; 
          topTiles.appendChild(div); 
        }); 
      }

      function isSectionDone(section) {
        return state.answers[section.id] && state.answers[section.id].length > 0;
      }

      function renderAll() {
        renderTopTiles();
        const section = exam.sections[state.sectionIndex];
        passageTitleEl.textContent = section.passageTitle;
        
        if (state.showResults) {
          renderResults();
          return;
        }
        
        renderWritingSection();
      }

      function renderWritingSection() {
        const section = exam.sections[state.sectionIndex];
        
        passageContentEl.innerHTML = `
          <div class="writing-task">
            <div class="writing-prompt">${section.writingTask.prompt}</div>
            <div class="instructions" style="border:1px solid #e1e8f6; padding:10px; margin:10px 0; border-radius:6px; background:#ffffff;">Sie wollten sich ehrenamtlich fÃ¼r Jugendliche engagieren, waren aber mit der Organisation unzufrieden. 
Schreiben Sie eine Beschwerde an den Verein.</div>
            <div class="writing-requirements">
              <h4>Schreiben Sie in Ihrer E-Mail:</h4>
              <ul>
                ${section.writingTask.requirements.map(req => `<li>${req}</li>`).join('')}
              </ul>
            </div>
            <div class="instructions">
              Schreiben Sie eine E-Mail (ca. 150-200 WÃ¶rter). Achten Sie auf den Textaufbau (Anrede, Einleitung, Hauptteil, Schluss) und eine angemessene Formulierung.
            </div>
          </div>
        `;
        
        const currentAnswer = state.answers[section.id] || '';
        const wordCount = countWords(currentAnswer);
        
        writingContainer.innerHTML = `
          <div class="writing-area">
            <textarea 
              class="writing-textarea" 
              placeholder="Schreiben Sie hier Ihre E-Mail..."
              oninput="window.schreibenApp.updateWritingAnswer('${section.id}', this.value)"
            >${currentAnswer}</textarea>
            <div class="word-counter">
              WÃ¶rter: <span class="count">${wordCount}</span>
            </div>
          </div>
        `;
      }

      function countWords(text) {
        return text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
      }

      function updateWritingAnswer(sectionId, text) {
        state.answers[sectionId] = text;
        
        const wordCount = countWords(text);
        document.querySelector('.word-counter .count').textContent = wordCount;
      }

      function renderResults() {
        let resultsHTML = `<h2>Ergebnisse</h2>`;
        
        exam.sections.forEach(section => {
          resultsHTML += `<div class="writing-task"><h3>${section.title}</h3>`;
          
          const userAnswer = state.answers[section.id];
          const wordCount = countWords(userAnswer);
          
          resultsHTML += `
            <div class="writing-requirements">
              <h4>Ihre Antwort (${wordCount} WÃ¶rter):</h4>
              <div style="white-space: pre-wrap; background: white; padding: 15px; border-radius: 6px; border: 1px solid #e1e8f6; margin-top: 10px;">${userAnswer || 'Keine Antwort'}</div>
            </div>
          `;
          
          resultsHTML += `</div>`;
        });
        
        passageContentEl.innerHTML = resultsHTML;
        writingContainer.innerHTML = '';
      }

      document.getElementById('prevBtn-schreiben').addEventListener('click', () => {
        if (state.sectionIndex > 0) {
          state.sectionIndex--;
          state.showResults = false;
          renderAll();
        }
      });

      document.getElementById('nextBtn-schreiben').addEventListener('click', () => {
        if (state.sectionIndex < exam.sections.length - 1) {
          state.sectionIndex++;
          state.showResults = false;
          renderAll();
        } else {
          showPage('ergebnisse-page');
        }
      });

      document.getElementById('resultBtn-schreiben').addEventListener('click', () => {
        state.showResults = !state.showResults;
        renderAll();
      });

      document.getElementById('resetBtn-schreiben').addEventListener('click', () => {
        if (confirm('MÃ¶chten Sie wirklich von neu beginnen? Alle Antworten werden gelÃ¶scht.')) {
          state.answers = {};
          state.showResults = false;
          resetTimer();
          renderAll();
        }
      });

      document.getElementById('saveBtn-schreiben').addEventListener('click', () => {
        statusText.textContent = 'Gespeichert';
        setTimeout(() => { statusText.textContent = 'Nicht gespeichert' }, 2000);
      });

      document.getElementById('submitBtn-schreiben').addEventListener('click', () => {
        if (confirm('MÃ¶chten Sie die PrÃ¼fung wirklich abgeben?')) {
          state.showResults = true;
          renderAll();
        }
      });

      document.getElementById('nextBtn-schreiben').addEventListener('click', () => {
        showPage('ergebnisse-page');
      });

      updateTimerDisplay();
      renderAll();
      startTimer();
      
      window._schreibenState = state;
      window.schreibenApp = {
        updateWritingAnswer
      };
    }

    // ===== ERGEBNISSE PAGE FUNCTIONALITY =====
    function initErgebnissePage() {
      const CONFIG = {
        totals: { 
          lesen: 105, 
          hoeren: 75, 
          schreiben: 45, 
          gesamt: 225 
        },
        counts: { 
          lesen: 40, 
          hoeren: 20 
        }
      };

      const CORRECT_ANSWERS = {
        lesen: {
          "text1": "c",
          "text2": "a",
          "text3": "h",
          "text4": "b",
          "text5": "j",
          "s2q1": "s2q1o3",
          "s2q2": "s2q2o2",
          "s2q3": "s2q3o3",
          "s2q4": "s2q4o2",
          "s2q5": "s2q5o2",
          "11": "A",
          "12": "B",
          "13": "X",
          "14": "C",
          "15": "D",
          "16": "X",
          "17": "E",
          "18": "F",
          "19": "H",
          "20": "K",
          "21": "dafÃ¼r",
          "22": "wegen",
          "23": "verschoben",
          "24": "nicht mehr",
          "25": "eingewiesen",
          "26": "Ãœbergewicht",
          "27": "zur",
          "28": "hinter",
          "29": "unter anderem",
          "30": "gar nicht",
          "31": "bequem",
          "32": "sind",
          "33": "dabei",
          "34": "ist",
          "35": "sollte",
          "36": "dass",
          "37": "aller",
          "38": "einem",
          "39": "unter",
          "40": "wie"
        },
        hoeren: {
          "41": "falsch",
          "42": "richtig",
          "43": "richtig",
          "44": "falsch",
          "45": "falsch",
          "46": "richtig",
          "47": "falsch",
          "48": "richtig",
          "49": "richtig",
          "50": "richtig",
          "51": "falsch",
          "52": "falsch",
          "53": "richtig",
          "54": "falsch",
          "55": "falsch",
          "56": "falsch",
          "57": "richtig",
          "58": "falsch",
          "59": "falsch",
          "60": "richtig"
        }
      };

      function readExamResults() {
        try {
          const lesen = window._lesenState ? window._lesenState.answers : {};
          const hoeren = window._hoerenState ? window._hoerenState.answers : {};
          const schreiben = window._schreibenState ? window._schreibenState.answers : {};

          return { hoeren, lesen, schreiben };
        } catch (e) {
          return { hoeren: {}, lesen: {}, schreiben: {} };
        }
      }

      function calculateLesenResults(answers) {
        const exam = EXAM_DATA.lesen;
        let correct = 0;
        let total = 0;
        
        exam.sections.forEach(section => {
          if (section.id === 's1') {
            section.texts.forEach(text => {
              total++;
              if (answers[text.id] === text.correctAnswer) correct++;
            });
          } else if (section.id === 's2') {
            section.questions.forEach(question => {
              total++;
              if (answers[question.id] === question.correctAnswer) correct++;
            });
          } else if (section.id === 's3') {
            section.situations.forEach(situation => {
              total++;
              const correctText = section.texts.find(t => t.correctAnswer === situation.id);
              if (answers[situation.id] === (correctText ? correctText.id : null)) correct++;
            });
          } else if (section.id === 's4') {
            section.fillBlanks.forEach(blank => {
              total++;
              if (answers[blank.id] === blank.correctAnswer) correct++;
            });
          } else if (section.id === 's5') {
            section.fillBlanks2.forEach(blank => {
              total++;
              if (answers[blank.id] === blank.correctAnswer) correct++;
            });
          }
        });
        
        const points = Math.round((correct / total) * CONFIG.totals.lesen);
        
        return { correct, total, points };
      }

      function calculateHoerenResults(answers) {
        const exam = EXAM_DATA.hoeren;
        let correct = 0;
        let total = 0;
        
        exam.sections.forEach(section => {
          section.questions.forEach(question => {
            total++;
            if (answers[section.id] && answers[section.id][question.id] === section.correctAnswers[question.id]) {
              correct++;
            }
          });
        });
        
        const points = Math.round((correct / total) * CONFIG.totals.hoeren);
        
        return { correct, total, points };
      }

      function getHeadingText(questionId, answerId) {
        if (!answerId || answerId === '-') return '';
        
        const headings = EXAM_DATA.lesen.sections[0].headings;
        const heading = headings.find(h => h.id === answerId);
        return heading ? heading.text : '';
      }

      function getAnswerText(section, questionId, answerId) {
        if (!answerId || answerId === '-') return '-';
        
        if (section === 'lesen') {
          const lesenExam = EXAM_DATA.lesen;
          const teil2 = lesenExam.sections[1];
          const question = teil2.questions.find(q => q.id === questionId);
          if (question) {
            const option = question.options.find(o => o.id === answerId);
            return option ? option.text : answerId;
          }
        }
        return answerId;
      }

      function renderLesenDetails(answers) {
        let html = `<div class="section-table">`;
        
        html += `<h4>Teil 1: Ãœberschriften zuordnen</h4><table class="true-false-table">`;
        html += `<thead><tr><th>Text</th><th>Ihre Antwort</th><th>Richtige Antwort</th><th>Ergebnis</th></tr></thead><tbody>`;
        
        for(let i = 1; i <= 5; i++) {
          const questionId = `text${i}`;
          const userAnswer = answers[questionId] || '-';
          const correctAnswer = CORRECT_ANSWERS.lesen[questionId];
          const isCorrect = userAnswer === correctAnswer;
          
          html += `<tr class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                    <td>Text ${String.fromCharCode(96 + i).toUpperCase()}</td>
                    <td>${userAnswer}) ${getHeadingText(questionId, userAnswer)}</td>
                    <td>${correctAnswer}) ${getHeadingText(questionId, correctAnswer)}</td>
                    <td><strong>${isCorrect ? 'âœ“ Richtig' : 'âœ— Falsch'}</strong></td>
                  </tr>`;
        }
        html += `</tbody></table>`;
        
        html += `<h4 style="margin-top: 20px;">Teil 2: Fragen zum Text</h4><table class="true-false-table">`;
        html += `<thead><tr><th>Frage</th><th>Ihre Antwort</th><th>Richtige Antwort</th><th>Ergebnis</th></tr></thead><tbody>`;
        
        for(let i = 1; i <= 5; i++) {
          const questionId = `s2q${i}`;
          const userAnswer = answers[questionId] || '-';
          const correctAnswer = CORRECT_ANSWERS.lesen[questionId];
          const isCorrect = userAnswer === correctAnswer;
          
          html += `<tr class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                    <td>Frage ${i}</td>
                    <td>${getAnswerText('lesen', questionId, userAnswer)}</td>
                    <td>${getAnswerText('lesen', questionId, correctAnswer)}</td>
                    <td><strong>${isCorrect ? 'âœ“ Richtig' : 'âœ— Falsch'}</strong></td>
                  </tr>`;
        }
        html += `</tbody></table>`;
        
        html += `<h4 style="margin-top: 20px;">Teil 3: Texte zuordnen</h4><table class="true-false-table">`;
        html += `<thead><tr><th>Situation</th><th>Ihre Antwort</th><th>Richtige Antwort</th><th>Ergebnis</th></tr></thead><tbody>`;
        
        for(let i = 11; i <= 20; i++) {
          const questionId = `${i}`;
          const userAnswer = answers[questionId] || '-';
          const correctAnswer = CORRECT_ANSWERS.lesen[questionId];
          const isCorrect = userAnswer === correctAnswer;
          
          html += `<tr class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                    <td>Situation ${i}</td>
                    <td>${userAnswer === 'X' ? 'X - Kein Text' : (userAnswer || '-')}</td>
                    <td>${correctAnswer || 'X - Kein Text'}</td>
                    <td><strong>${isCorrect ? 'âœ“ Richtig' : 'âœ— Falsch'}</strong></td>
                  </tr>`;
        }
        html += `</tbody></table>`;
        
        html += `<h4 style="margin-top: 20px;">Sprachbausteine</h4><table class="true-false-table">`;
        html += `<thead><tr><th>LÃ¼cke</th><th>Ihre Antwort</th><th>Richtige Antwort</th><th>Ergebnis</th></tr></thead><tbody>`;
        
        for(let i = 21; i <= 40; i++) {
          const questionId = `${i}`;
          const userAnswer = answers[questionId] || '-';
          const correctAnswer = CORRECT_ANSWERS.lesen[questionId];
          const isCorrect = userAnswer === correctAnswer;
          
          html += `<tr class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                    <td>LÃ¼cke ${i}</td>
                    <td>${userAnswer}</td>
                    <td>${correctAnswer}</td>
                    <td><strong>${isCorrect ? 'âœ“ Richtig' : 'âœ— Falsch'}</strong></td>
                  </tr>`;
        }
        html += `</tbody></table></div>`;
        
        return html;
      }

      function renderHoerenDetails(answers) {
        let html = `<div class="section-table">`;
        
        html += `<h4>Teil 1</h4><table class="true-false-table">`;
        html += `<thead><tr><th>Frage</th><th>Ihre Antwort</th><th>Richtige Antwort</th><th>Ergebnis</th></tr></thead><tbody>`;
        
        for(let i = 41; i <= 45; i++) {
          const questionId = `${i}`;
          const section = 'hÃ¶rverstehen1';
          const userAnswer = (answers[section] && answers[section][questionId]) || '-';
          const correctAnswer = CORRECT_ANSWERS.hoeren[questionId];
          const isCorrect = userAnswer === correctAnswer;
          
          html += `<tr class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                    <td>${questionId}</td>
                    <td>${userAnswer}</td>
                    <td>${correctAnswer}</td>
                    <td><strong>${isCorrect ? 'âœ“ Richtig' : 'âœ— Falsch'}</strong></td>
                  </tr>`;
        }
        html += `</tbody></table>`;
        
        html += `<h4 style="margin-top: 20px;">Teil 2</h4><table class="true-false-table">`;
        html += `<thead><tr><th>Frage</th><th>Ihre Antwort</th><th>Richtige Antwort</th><th>Ergebnis</th></tr></thead><tbody>`;
        
        for(let i = 46; i <= 55; i++) {
          const questionId = `${i}`;
          const section = 'hÃ¶rverstehen2';
          const userAnswer = (answers[section] && answers[section][questionId]) || '-';
          const correctAnswer = CORRECT_ANSWERS.hoeren[questionId];
          const isCorrect = userAnswer === correctAnswer;
          
          html += `<tr class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                    <td>${questionId}</td>
                    <td>${userAnswer}</td>
                    <td>${correctAnswer}</td>
                    <td><strong>${isCorrect ? 'âœ“ Richtig' : 'âœ— Falsch'}</strong></td>
                  </tr>`;
        }
        html += `</tbody></table>`;
        
        html += `<h4 style="margin-top: 20px;">Teil 3</h4><table class="true-false-table">`;
        html += `<thead><tr><th>Frage</th><th>Ihre Antwort</th><th>Richtige Antwort</th><th>Ergebnis</th></tr></thead><tbody>`;
        
        for(let i = 56; i <= 60; i++) {
          const questionId = `${i}`;
          const section = 'hÃ¶rverstehen3';
          const userAnswer = (answers[section] && answers[section][questionId]) || '-';
          const correctAnswer = CORRECT_ANSWERS.hoeren[questionId];
          const isCorrect = userAnswer === correctAnswer;
          
          html += `<tr class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">
                    <td>${questionId}</td>
                    <td>${userAnswer}</td>
                    <td>${correctAnswer}</td>
                    <td><strong>${isCorrect ? 'âœ“ Richtig' : 'âœ— Falsch'}</strong></td>
                  </tr>`;
        }
        html += `</tbody></table></div>`;
        
        return html;
      }

      function calculateResults() {
        const st = readExamResults() || { hoeren: {}, lesen: {}, schreiben: {} };
        const details = document.getElementById('details-ergebnisse');
        const tiles = document.getElementById('topTiles-ergebnisse');

        details.innerHTML = '';
        tiles.innerHTML = '';

        const lesenResults = calculateLesenResults(st.lesen);
        const hoerenResults = calculateHoerenResults(st.hoeren);
        
        const tL = `<div class="results-tile">
                    <h3>Lesen</h3>
                    <div class="score">${lesenResults.points}/${CONFIG.totals.lesen} Punkte</div>
                    <div class="small-muted">(${lesenResults.correct}/${lesenResults.total} richtig)</div>
                  </div>`;
                  
        const tH = `<div class="results-tile">
                    <h3>HÃ¶ren</h3>
                    <div class="score">${hoerenResults.points}/${CONFIG.totals.hoeren} Punkte</div>
                    <div class="small-muted">(${hoerenResults.correct}/${hoerenResults.total} richtig)</div>
                  </div>`;
                  
        const tS = `<div class="results-tile">
                    <h3>Schreiben</h3>
                    <div class="score">Manuelle Bewertung</div>
                    <div class="small-muted">(45 Punkte max.)</div>
                  </div>`;
                  
        tiles.innerHTML = tL + tH + tS;

        details.innerHTML = `
          <h2>ğŸ“Š Detaillierte Ergebnisse</h2>
          <div class="instructions">
            Hier sehen Sie Ihre Antworten im Vergleich zu den richtigen Antworten:
          </div>
          
          <h3>ğŸ“– Leseverstehen - Detaillierte Auswertung</h3>
        `;
        
        details.innerHTML += renderLesenDetails(st.lesen);
        
        details.innerHTML += `
          <h3>ğŸ‘‚ HÃ¶rverstehen - Detaillierte Auswertung</h3>
        `;
        details.innerHTML += renderHoerenDetails(st.hoeren);
        
        details.innerHTML += `
          <h3>âœï¸ Schreiben</h3>
          <div class="writing-task">
            <div class="writing-requirements">
              <h4>Ihre Antwort:</h4>
              <div style="white-space: pre-wrap; background: white; padding: 15px; border-radius: 6px; border: 1px solid #e1e8f6; margin-top: 10px;">
                ${st.schreiben['s1'] || 'Keine Antwort vorhanden'}
              </div>
              <div style="margin-top: 10px; display: flex; gap: 10px; align-items: center">
                Punkte vergeben (0â€“45): 
                <input id="schreibenInput" type="number" min="0" max="45" step="1" value="0"> 
                <button id="saveSchreiben" class="results-btn">Speichern</button>
              </div>
            </div>
          </div>
        `;

        const totalPoints = lesenResults.points + hoerenResults.points;
        const maxPoints = CONFIG.totals.lesen + CONFIG.totals.hoeren;
        const percentage = Math.round((totalPoints / maxPoints) * 100);

        document.getElementById('finalSummary-ergebnisse').innerHTML = `
          <div class="left">
            Gesamtergebnis (ohne Schreiben)<br>
            <span class="small-muted">Automatisch korrigierte Bereiche</span>
          </div>
          <div class="right">
            <strong>${totalPoints}/${maxPoints} Punkte (${percentage}%)</strong>
          </div>`;

        document.getElementById('saveSchreiben').onclick = function() {
          const points = parseInt(document.getElementById('schreibenInput').value) || 0;
          localStorage.setItem('schreibenPoints', points);
          alert('Schreiben-Punkte gespeichert!');
        };
      }

      document.getElementById('calcBtn-ergebnisse').onclick = () => calculateResults();
      document.getElementById('backBtn-ergebnisse').onclick = (e) => {
        e.preventDefault();
        showPage('start-page');
      };
      
      calculateResults();
    }

    // ØªØ­Ø³ÙŠÙ† Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„ Ø¨Ø§Ù„Ù„Ù…Ø³
    function setupTouchDragAndDrop() {
      if ('ontouchstart' in window) {
        // ØªØºÙŠÙŠØ± Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨
        document.querySelectorAll('[draggable="true"]').forEach(item => {
          item.addEventListener('touchstart', handleTouchStart);
          item.addEventListener('touchend', handleTouchEnd);
        });
        
        document.querySelectorAll('.title-slot, .blank-slot').forEach(slot => {
          slot.addEventListener('touchmove', handleTouchMove);
          slot.addEventListener('touchend', handleTouchDrop);
        });
      }
    }

    function handleTouchStart(e) {
      // ØªÙ†ÙÙŠØ° Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù†Ø¯ Ø§Ù„Ù„Ù…Ø³
    }

    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', setupTouchDragAndDrop);
  </script>
</body>
</html>